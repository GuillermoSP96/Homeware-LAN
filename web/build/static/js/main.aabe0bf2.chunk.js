(this.webpackJsonpHomeware=this.webpackJsonpHomeware||[]).push([[0],{12:function(e,t,a){},137:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),s=a(41),r=a.n(s),l=(a(48),a(1)),c=a(2),o=a(5),d=a(4),m=a(3),u=(a(49),a(28)),p=a(6);var v=function(e){for(var t=e+"=",a=decodeURIComponent(document.cookie).split(";"),n=0;n<a.length;n++){for(var i=a[n];" "===i.charAt(0);)i=i.substring(1);if(0===i.indexOf(t))return i.substring(t.length,i.length)}return""},h=window.location.href.includes("localhost")?"http://homeware.local/":"/",b={traits:{"action.devices.traits.OnOff":{name:"Power control",attributes:{commandOnlyOnOff:{type:"bool",default:!1},queryOnlyOnOff:{type:"bool",default:!1}},param:{on:{type:"bool",default:!0}}},"action.devices.traits.Brightness":{name:"Brightness",attributes:{commandOnlyBrightness:{type:"bool",default:!1}},param:{brightness:{type:"int",default:100}}},"action.devices.traits.ColorSetting":{name:"Color setting",attributes:{colorModel:{type:"string",default:"rgb"},commandOnlyColorSetting:{type:"bool",default:!1},colorTemperatureRange:{type:"object",default:{temperatureMinK:4e3,temperatureMaxK:4200},content:{temperatureMinK:{type:"int",default:4e3},temperatureMaxK:{type:"int",default:4200}}}},param:{color:{type:"object",default:{spectrumRgb:16711935},content:{temperatureK:{type:"int",default:4e3},spectrumRGB:{type:"int",default:255},spectrumHSV:{type:"object",content:{hue:{type:"float"},saturation:{type:"float"},default:{type:"float"}}}}}}},"action.devices.traits.TemperatureSetting":{name:"Temperature Settings",attributes:{availableThermostatModes:{type:"select",default:"off,heat,cool"},thermostatTemperatureRange:{type:"object",default:{minThresholdCelsius:18,maxThresholdCelsius:34}},thermostatTemperatureUnit:{type:"string",default:"C"},bufferRangeCelsius:{type:"int",default:2},commandOnlyTemperatureSetting:{type:"bool",default:!1},queryOnlyTemperatureSetting:{type:"bool",default:!1}},param:{thermostatMode:{type:"string",default:"off"},thermostatTemperatureSetpoint:{type:"int",default:20},thermostatTemperatureAmbient:{type:"int",default:22},thermostatTemperatureSetpointHigh:{type:"int",default:28},thermostatTemperatureSetpointLow:{type:"int",default:18},thermostatHumidityAmbient:{type:"int",default:80}}},"action.devices.traits.OpenClose":{name:"Open or close",attributes:{discreteOnlyOpenClose:{type:"bool",default:!1},openDirection:{type:"array",default:["UP","DOWN","LEFT","RIGHT","IN","OUT"]},commandOnlyOpenClose:{type:"bool",default:!1},queryOnlyOpenClose:{type:"bool",default:!1}},param:{openPercent:{type:"int",default:0},openState:{type:"object",default:{openPercent:0,openDirection:"UP"},content:{openPercent:{type:"int",default:0},openDirection:{type:"int",default:"down"}}}}},"action.devices.traits.Rotation":{name:"Rotation",attributes:{commandOnlyRotation:{type:"bool",default:!1},supportsContinuousRotation:{type:"bool",default:!1},supportsDegrees:{type:"bool",default:!1},supportsPercent:{type:"bool",default:!1},rotationDegreesRange:{type:"object",default:{rotationDegreesMin:0,rotationDegreesMax:0},content:{rotationDegreesMin:{type:"int"},rotationDegreesMax:{type:"int"}}}},param:{rotationPercent:{type:"int",default:0},rotationDegrees:{type:"int",default:0}}},"action.devices.traits.LockUnlock":{name:"Lock or unlock",attributes:{},param:{isLocked:{type:"bool",default:!1},isJammed:{type:"bool",default:!1}}},"action.devices.traits.Scene":{name:"Scene",attributes:{sceneReversible:{type:"bool",default:!0}},param:{deactivate:{type:"bool",default:!0}}},"action.devices.traits.Dock":{name:"Dock",attributes:{},param:{isDocked:{type:"bool",default:!1}}},"action.devices.traits.Toggles":{name:"Toogles",attributes:{availableToggles:{type:"strigifyedObject",default:[]},commandOnlyToggles:{type:"bool",default:!1}},param:{currentToggleSettings:{type:"array",default:[]}}},"action.devices.traits.StartStop":{name:"Start and stop",attributes:{availableZones:{type:"array",default:[]},pausable:{type:"bool",default:!1}},param:{isRunning:{type:"bool",default:!1},isPaused:{type:"bool",default:!1},activeZones:~{type:"array",default:[]}}},"action.devices.traits.Timer":{name:"Timer",attributes:{maxTimerLimitSec:{type:"int",default:1e3},commandOnlyTimer:{type:"bool",default:!1}},param:{timerRemainingSec:{type:"int",default:-1},timerPaused:{type:"bool",default:!1}}},"action.devices.traits.TemperatureControl":{name:"Temperature control",attributes:{temperatureStepCelsius:{type:"int",default:5},temperatureUnitForUX:{type:"string",default:"C"},queryOnlyTemperatureControl:{type:"bool",default:!1},commandOnlyTemperatureControl:{type:"bool",default:!1},temperatureRange:{type:"object",default:{minThresholdCelsius:0,maxThresholdCelsius:150},content:{minThresholdCelsius:{type:"int"},maxThresholdCelsius:{type:"int"}}}},param:{temperatureSetpointCelsius:{type:"int",default:20},temperatureAmbientCelsius:{type:"int",default:20}}},"action.devices.traits.FanSpeed":{name:"Fan Speed",attributes:{availableFanSpeeds:{type:"strigifyedObject",default:{speeds:[],ordered:!0}},reversible:{type:"bool",default:!0},commandOnlyFanSpeed:{type:"bool",default:!0}},param:{currentFanSpeedSetting:{type:"string",default:""}}},"action.devices.traits.ArmDisarm":{name:"Arm or disarm",attributes:{availableArmLevels:{type:"strigifyedObject",default:{levels:[],ordered:!0}}},param:{isArmed:{type:"bool",default:!1},currentArmLevel:{type:"string",default:""},exitAllowance:{type:"int",default:20}}},"action.devices.traits.Fill":{name:"Fill",attributes:{availableFillLevels:{type:"strigifyedObject",default:{levels:[],ordered:!0}}},param:{isFilled:{type:"bool",default:!1},currentFillLevel:{type:"string",default:""}}},"action.devices.traits.RunCycle":{name:"RunCycle",attributes:{},param:{lang:"en"}},"action.devices.traits.StatusReport":{name:"Status report",attributes:{},param:{currentStatusReport:{type:"object",default:{}}}},"action.devices.traits.HumiditySetting":{name:"Humidity setting",attributes:{humiditySetpointRange:{type:"object",default:{minPercent:0,maxPercent:100},content:{minPercent:{type:"int"},maxPercent:{type:"int"}}},commandOnlyHumiditySetting:{type:"bool",default:!1},queryOnlyHumiditySetting:{type:"bool",default:!1}},param:{humiditySetpointPercent:{type:"int",default:30},humidityAmbientPercent:{type:"int",default:20}}},"action.devices.traits.Cook":{name:"Cooking",attributes:{foodPresets:{type:"strigifyedObject",default:[]},supportedCookingModes:{type:"selectToArray",default:[]}},param:{currentCookingMode:{type:"string",default:""},currentFoodPreset:{type:"string",default:""},currentFoodQuantity:{type:"int",default:0},currentFoodUnit:{type:"string",default:""}}},"action.devices.traits.Modes":{name:"Modes",attributes:{availableModes:{type:"strigifyedObject",default:[]},commandOnlyModes:{type:"bool",default:!1}},param:{}},"action.devices.traits.Locator":{name:"Locator",attributes:{},param:{}},"action.devices.traits.SensorState":{name:"Sesnor",attributes:{sensorStatesSupported:{type:"object",default:[{name:""}]}},param:{currentSensorStateData:{type:"object",default:[]}}}},devices:{"action.devices.types.AC_UNIT":{name:"AC unit",traits:["action.devices.traits.FanSpeed","action.devices.traits.OnOff","action.devices.traits.TemperatureSetting"]},"action.devices.types.AIRCOOLER":{name:"Air cooler",traits:["action.devices.traits.FanSpeed","action.devices.traits.HumiditySetting","action.devices.traits.OnOff","action.devices.traits.TemperatureSetting"]},"action.devices.types.AIRFRESHENER":{name:"Air freshener",traits:["action.devices.traits.Modes","action.devices.traits.OnOff","action.devices.traits.Toggles"]},"action.devices.types.AIRPURIFIER":{name:"Air purifier",traits:["action.devices.traits.OnOff","action.devices.traits.FanSpeed","action.devices.traits.Modes","action.devices.traits.Toggles","action.devices.traits.SensorState"]},"action.devices.types.AWNING":{name:"Awing",traits:["action.devices.traits.Modes","action.devices.traits.OpenClose"]},"action.devices.types.BATHTUB":{name:"Bathtub",traits:["action.devices.traits.Fill","action.devices.traits.OnOff"]},"action.devices.types.BED":{name:"Bed",traits:["action.devices.traits.Modes","action.devices.traits.Toggles"]},"action.devices.types.BLINDS":{name:"Blinds",traits:["action.devices.traits.Modes","action.devices.traits.OpenClose"]},"action.devices.types.BLENDER":{name:"Blender",traits:["action.devices.traits.Cook","action.devices.traits.Modes","action.devices.traits.OnOff","action.devices.traits.StartStop","action.devices.traits.Timer","action.devices.traits.Toggles"]},"action.devices.types.BOILER":{name:"Boiler",traits:["action.devices.traits.Modes","action.devices.traits.TemperatureControl","action.devices.traits.OnOff","action.devices.traits.Toggles"]},"action.devices.types.CARBON_MONOXIDE_DETECTOR":{name:"Carbon monoxide detector",traits:["action.devices.traits.SensorState"]},"action.devices.types.CLOSET":{name:"Closet",traits:["action.devices.traits.OpenClose"]},"action.devices.types.COFFE_MAKER":{name:"Coffe maker",traits:["action.devices.traits.Cook","action.devices.traits.Modes","action.devices.traits.OnOff","action.devices.traits.TemperatureControl","action.devices.traits.Toggles"]},"action.devices.types.COOKTOP":{name:"Cooktop",traits:["action.devices.traits.Cook","action.devices.traits.Modes","action.devices.traits.OnOff","action.devices.traits.StartStop","action.devices.traits.Timer","action.devices.traits.Toggles"]},"action.devices.types.CURTAIN":{name:"Curtain",traits:["action.devices.traits.OpenClose"]},"action.devices.types.DEHUMIDIFIER":{name:"Dehumidifier",traits:["action.devices.traits.FanSpeed","action.devices.traits.HumiditySetting","action.devices.traits.Modes","action.devices.traits.OnOff","action.devices.traits.RunCycle","action.devices.traits.StartStop","action.devices.traits.Toggles"]},"action.devices.types.DEHYDRATOR":{name:"Dehydrator",traits:["action.devices.traits.Cook","action.devices.traits.Modes","action.devices.traits.OnOff","action.devices.traits.StartStop","action.devices.traits.Timer","action.devices.traits.Toggles"]},"action.devices.types.DISHWASHER":{name:"Dishwasher",traits:["action.devices.traits.OnOff","action.devices.traits.StartStop","action.devices.traits.Modes","action.devices.traits.Toggles","action.devices.traits.RunCycle"]},"action.devices.types.DOOR":{name:"Door",traits:["action.devices.traits.OpenClose"]},"action.devices.types.DRAWER":{name:"Drawer",traits:["action.devices.traits.OpenClose"]},"action.devices.types.DRYER":{name:"Dryer",traits:["action.devices.traits.OnOff","action.devices.traits.StartStop","action.devices.traits.Modes","action.devices.traits.Toggles","action.devices.traits.RunCycle"]},"action.devices.types.FAN":{name:"Fan",traits:["action.devices.traits.FanSpeed","action.devices.traits.Modes","action.devices.traits.OnOff","action.devices.traits.Toggles"]},"action.devices.types.FIREPLACE":{name:"Fireplace",traits:["action.devices.traits.Modes","action.devices.traits.OnOff","action.devices.traits.Toggles"]},"action.devices.types.FREEZER":{name:"Fireplace",traits:["action.devices.traits.Modes","action.devices.traits.OnOff","action.devices.traits.TemperatureControl","action.devices.traits.Toggles"]},"action.devices.types.FRYER":{name:"Fryer",traits:["action.devices.traits.Cook","action.devices.traits.Modes","action.devices.traits.OnOff","action.devices.traits.StartStop","action.devices.traits.Timer","action.devices.traits.Toggles"]},"action.devices.types.GARAGE":{name:"Garage",traits:["action.devices.traits.OpenClose"]},"action.devices.types.GATE":{name:"Gate",traits:["action.devices.traits.OpenClose"]},"action.devices.types.GRILL":{name:"Grill",traits:["action.devices.traits.Cook","action.devices.traits.Modes","action.devices.traits.OnOff","action.devices.traits.StartStop","action.devices.traits.Timer","action.devices.traits.Toggles"]},"action.devices.types.HEATER":{name:"Heater",traits:["action.devices.traits.FanSpeed","action.devices.traits.OnOff","action.devices.traits.TemperatureSetting"]},"action.devices.types.HOOD":{name:"Hood",traits:["action.devices.traits.FanSpeed","action.devices.traits.Modes","action.devices.traits.OnOff","action.devices.traits.Toggles"]},"action.devices.types.HUMIDIFIER":{name:"Humidifier",traits:["action.devices.traits.FanSpeed","action.devices.traits.HumiditySetting","action.devices.traits.Modes","action.devices.traits.OnOff","action.devices.traits.StartStop","action.devices.traits.Toggles"]},"action.devices.types.KETTLE":{name:"Kettle",traits:["action.devices.traits.Modes","action.devices.traits.OnOff","action.devices.traits.TemperatureControl","action.devices.traits.Toggles"]},"action.devices.types.LIGHT":{name:"Light",traits:["action.devices.traits.OnOff","action.devices.traits.Brightness","action.devices.traits.ColorSetting"]},"action.devices.types.LOCK":{name:"Lock",traits:["action.devices.traits.LockUnlock"]},"action.devices.types.MICROWAVE":{name:"Microwave",traits:["action.devices.traits.Cook","action.devices.traits.Modes","action.devices.traits.OnOff","action.devices.traits.StartStop","action.devices.traits.Timer","action.devices.traits.Toggles"]},"action.devices.types.MOP":{name:"Mop",traits:["action.devices.traits.Dock","action.devices.traits.Locator","action.devices.traits.Modes","action.devices.traits.OnOff","action.devices.traits.RunCycle","action.devices.traits.StartStop","action.devices.traits.Toggles"]},"action.devices.types.MOWER":{name:"Mower",traits:["action.devices.traits.Dock","action.devices.traits.Locator","action.devices.traits.Modes","action.devices.traits.OnOff","action.devices.traits.RunCycle","action.devices.traits.StartStop","action.devices.traits.Toggles"]},"action.devices.types.MULTICOOKER":{name:"Multicooker",traits:["action.devices.traits.Cook","action.devices.traits.Modes","action.devices.traits.OnOff","action.devices.traits.StartStop","action.devices.traits.Timer","action.devices.traits.Toggles"]},"action.devices.types.OUTLET":{name:"Outlet",traits:["action.devices.traits.OnOff"]},"action.devices.types.OVEN":{name:"Oven",traits:["action.devices.traits.Cook","action.devices.traits.Modes","action.devices.traits.OnOff","action.devices.traits.StartStop","action.devices.traits.TemperatureControl","action.devices.traits.Toggles"]},"action.devices.types.PERGOLA":{name:"Pergola",traits:["action.devices.traits.OpenClose","action.devices.traits.Rotation"]},"action.devices.types.PRESSURECOOKER":{name:"Pressure cooker",traits:["action.devices.traits.Cook","action.devices.traits.Modes","action.devices.traits.OnOff","action.devices.traits.StartStop","action.devices.traits.Timer","action.devices.traits.Toggles"]},"action.devices.types.RADIATOR":{name:"Radiator",traits:["action.devices.traits.Modes","action.devices.traits.OnOff","action.devices.traits.Toggles"]},"action.devices.types.REFRIGERATOR":{name:"Refrigerator",traits:["action.devices.traits.Modes","action.devices.traits.OnOff","action.devices.traits.TemperatureControl","action.devices.traits.Toggles"]},"action.devices.types.SENSOR":{name:"Sensor",traits:["action.devices.traits.OnOff","action.devices.traits.SensorState"]},"action.devices.types.SECURITYSYSTEM":{name:"Security system",traits:["action.devices.traits.ArmDisarm","action.devices.traits.StatusReport"]},"action.devices.types.SHOWER":{name:"Shower",traits:["action.devices.traits.Modes","action.devices.traits.OnOff","action.devices.traits.StartStop","action.devices.traits.TemperatureControl"]},"action.devices.types.SHUTTER":{name:"Shutter",traits:["action.devices.traits.Modes","action.devices.traits.OpenClose","action.devices.traits.Rotation"]},"action.devices.types.SMOKE_DETECTOR":{name:"Smoke detector",traits:["action.devices.traits.SensorState"]},"action.devices.types.SOUSVIDE":{name:"Sous vide",traits:["action.devices.traits.Cook","action.devices.traits.Modes","action.devices.traits.OnOff","action.devices.traits.StartStop","action.devices.traits.Timer","action.devices.traits.Toggles"]},"action.devices.types.SPRINKLER":{name:"Sprinkler",traits:["action.devices.traits.StartStop"]},"action.devices.types.STANDMIXER":{name:"Stand mixer",traits:["action.devices.traits.Cook","action.devices.traits.Modes","action.devices.traits.OnOff","action.devices.traits.StartStop","action.devices.traits.Toggles"]},"action.devices.types.SWITCH":{name:"Switch",traits:["action.devices.traits.OnOff"]},"action.devices.types.THERMOSTAT":{name:"Thermostat",traits:["action.devices.traits.TemperatureSetting"]},"action.devices.types.VACUUM":{name:"Vacum",traits:["action.devices.traits.Dock","action.devices.traits.Modes","action.devices.traits.OnOff","action.devices.traits.StartStop","action.devices.traits.Toggles"]},"action.devices.types.VALVE":{name:"Valve",traits:["action.devices.traits.OpenClose"]},"action.devices.types.WASHER":{name:"Washer",traits:["action.devices.traits.Modes","action.devices.traits.OnOff","action.devices.traits.RunCycle","action.devices.traits.StartStop","action.devices.traits.Toggles"]},"action.devices.types.WATERHEATER":{name:"Water heater",traits:["action.devices.traits.Modes","action.devices.traits.OnOff","action.devices.traits.TemperatureControl","action.devices.traits.Toggles"]},"action.devices.types.WATERPURIFIER":{name:"Water purifier",traits:["action.devices.traits.Modes","action.devices.traits.OnOff","action.devices.traits.SensorState","action.devices.traits.Toggles"]},"action.devices.types.WATERSOFTENER":{name:"Water softener",traits:["action.devices.traits.Modes","action.devices.traits.OnOff","action.devices.traits.SensorState","action.devices.traits.Toggles"]},"action.devices.types.WINDOW":{name:"Window",traits:["action.devices.traits.LockUnlock","action.devices.traits.OpenClose"]},"action.devices.types.SCENE":{name:"Scene",traits:["action.devices.traits.Scene"]},"action.devices.types.YOGURTMAKER":{name:"Yogurt maker",traits:["action.devices.traits.Cook","action.devices.traits.Modes","action.devices.traits.OnOff","action.devices.traits.StartStop","action.devices.traits.Timer","action.devices.traits.Toggles"]}},params:{thermostatTemperatureAmbient:{type:"int",name:"Ambient temperature"},thermostatTemperatureSetpoint:{type:"int",name:"Temperature set point"},thermostatHumidityAmbient:{type:"int",name:"Ambient humidity"},thermostatMode:{type:"list",select:["cool","heat","off","on","heatcool","auto","fan-only","purifier","eco","dry"],name:"Mode"},on:{type:"bool",select:["true","false"],name:"Power"},deactivate:{type:"bool",select:["true","false"],name:"Deactivate"},brightness:{type:"int",name:"Brightness"},online:{type:"bool",select:["true","false"],name:"Online"},color:{type:"color",name:"Color"},thermostatTemperatureSetpointHigh:{type:"int",name:"Hight set point in heatcool mode"},thermostatTemperatureSetpointLow:{type:"int",name:"Low set point in heatcool mode"},openPercent:{type:"int",name:"Open percentage"},rotationPercent:{type:"d2i",name:"Rotation percentage"},rotationDegrees:{type:"int",name:"Ration degrees"},isLocked:{type:"bool",name:"Is locked"},isJammed:{type:"bool",name:"Is jammed"},isDocked:{type:"bool",name:"Is docked"},isRunnin:{type:"bool",name:"Is running"},isPaused:{type:"bool",name:"Is paused"},timerRemainingSec:{type:"int",name:"Remaining time [seconds]"},timerPaused:{type:"bool",name:"Is paused"},temperatureSetpointCelsius:{type:"int",name:"Set point"},temperatureAmbientCelsius:{type:"int",name:"Ambient"},currentFanSpeedSetting:{type:"string",name:"Fan speed setting"},isArmed:{type:"bool",name:"Is armed"},exitAllowance:{type:"int",name:"Time to leave"},isFilled:{type:"bool",name:"Is filled"},humiditySetpointPercent:{type:"int",name:"Humidity set point"},humidityAmbientPercent:{type:"int",name:"Ambient humidity"},currentArmLevel:{type:"string",name:"Current security level"},currentFillLevel:{type:"string",name:"Current fill levell"},currentCookingMode:{type:"string",name:"Current cooking mode"},currentFoodPreset:{type:"string",name:"Current food preset"},currentFoodQuantity:{type:"int",name:"Current food quantity"},currentFoodUnit:{type:"string",name:"Current food unit"}}},E=(a(17),function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).next=n.next.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"next",value:function(){window.location.href="/assistant/user/"}},{key:"render",value:function(){return i.a.createElement("div",{className:"assistant_container"},i.a.createElement("h1",null,"Homeware configuration assistant"),i.a.createElement("br",null),i.a.createElement("p",null,"Follow this assistant in order to configure your Homeware installation."),i.a.createElement("br",null),i.a.createElement("button",{type:"button",onClick:this.next},"Next"))}}]),a}(i.a.Component)),g=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={enable_next:!1,enable_message:!1,message:""},n.set=n.set.bind(Object(o.a)(n)),n.next=n.next.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"set",value:function(){var e=new XMLHttpRequest;e.onload=function(t){4===e.readyState&&(200===e.status?(this.setState({enable_next:!0,enable_message:!0,message:e.responseText}),console.error(e.responseText)):(console.error(e.statusText),this.setState({enable_message:!0,message:"Some error has occurred"})),setTimeout(function(){this.setState({enable_message:!1,message:""})}.bind(this),5e3))}.bind(this);var t="http://"+window.location.hostname+":5001/api/user/set/";e.open("POST",t,!0),e.setRequestHeader("Content-type","application/json"),e.send(JSON.stringify({user:document.getElementById("user").value,pass:document.getElementById("password").value}))}},{key:"next",value:function(){this.state.enable_next?window.location.href="/assistant/domain/":alert("You must create an user")}},{key:"render",value:function(){var e={margin:"10px"},t="";return this.state.enable_message&&(t=i.a.createElement("div",{className:"alert_message"}," ",this.state.message," ")),i.a.createElement("div",{className:"assistant_container"},i.a.createElement("h1",null,"Homeware configuration assistant - User"),i.a.createElement("p",null,"In order to keep your Homeware installation secure you must create an user and a password."),i.a.createElement("br",null),t,i.a.createElement("span",{style:e},"Username"),i.a.createElement("input",{type:"text",name:"user",id:"user"}),i.a.createElement("span",{style:e},"Password"),i.a.createElement("input",{type:"password",name:"password",id:"password"}),i.a.createElement("button",{type:"button",onClick:this.set},"Create"),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("button",{type:"button",onClick:this.next},"Next"))}}]),a}(i.a.Component),_=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).next=n.next.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"next",value:function(){window.location.href="/assistant/confignginx/"}},{key:"render",value:function(){return i.a.createElement("div",{className:"assistant_container"},i.a.createElement("h1",null,"Homeware configuration assistant - Domain"),i.a.createElement("p",null,"You must get a domain and point it to your WAN IP."),i.a.createElement("div",{className:"assistant_text"},i.a.createElement("p",null,"There are two possibilities:"),i.a.createElement("ul",null,i.a.createElement("li",null,"Use a static IP and a DNS"),i.a.createElement("li",null,"Use a dinamic IP and a DDNS")),i.a.createElement("p",null,"If you have a static WAN IP, you probably know how to configure your domain name"),i.a.createElement("p",null,"If you have a dinamic IP, you should use a DDNS provider"),i.a.createElement("p",null,"The process depend on the provider you choose. For example, you can use ",i.a.createElement("a",{href:"https://my.noip.com",target:"blanck"},"no-ip")," as the provider:"),i.a.createElement("ul",null,i.a.createElement("li",null,"Create an account in no-ip."),i.a.createElement("li",null,"Go to ",i.a.createElement("i",null,"Dynamic DNS")," and create a new ",i.a.createElement("i",null,"Hostname"),".",i.a.createElement("ul",null,i.a.createElement("li",null,"Choose a unique ",i.a.createElement("i",null,"Hostname"),"."),i.a.createElement("li",null,"Select ",i.a.createElement("i",null,"DNS Host (A)"),"."),i.a.createElement("li",null,"Fill the ",i.a.createElement("i",null,"IPv4 Address")," with your WAN/public IP. You can get it from ",i.a.createElement("a",{href:"https://www.whatismyip.com/what-is-my-public-ip-address/",target:"blanck"},"WhatsMyIp"),"."))),i.a.createElement("li",null,"When the installation will be completed you must configure the DDNS data from the ",i.a.createElement("i",null,"Settings")," section on Homeware."))),i.a.createElement("button",{type:"button",onClick:this.next},"Next"))}}]),a}(i.a.Component),y=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={enable_next:!1,enable_message:!1,message:""},n.set=n.set.bind(Object(o.a)(n)),n.next=n.next.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"set",value:function(){}},{key:"next",value:function(){window.location.href="/assistant/change2domain/"}},{key:"render",value:function(){var e="";return this.state.enable_message&&(e=i.a.createElement("div",{className:"alert_message"}," ",this.state.message," ")),i.a.createElement("div",{className:"assistant_container"},i.a.createElement("h1",null,"Homeware configuration assistant - Configuration of Nginx"),i.a.createElement("p",null,"Configure Nginx with the initial settings"),e,i.a.createElement("br",null),i.a.createElement("div",{className:"assistant_text"},i.a.createElement("p",null,"Open a terminal on your Raspberry Pi or connect to the Raspberry Pi using SSH and run:"),i.a.createElement("br",null),i.a.createElement("span",{className:"code"},"$ cd /usr/share/Homeware-LAN/bash"),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("span",{className:"code"},"$ sudo sh confignginx.sh your.domain.com")),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("button",{type:"button",onClick:this.next},"Next"))}}]),a}(i.a.Component),f=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={enable_next:!1,enable_message:!1,message:""},n.set=n.set.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"set",value:function(){var e=new XMLHttpRequest;e.onreadystatechange=function(){if(console.log(e.status),200===e.status){var t=JSON.parse(e.responseText);console.log(t),200===t.code?window.location.href="http://"+document.getElementById("domain").value+"/assistant/changed2domain/":this.setState({enable_message:!0,message:t.error})}else console.error(e.statusText),this.setState({enable_message:!0,message:"Some error has occurred"})}.bind(this);var t="http://"+window.location.hostname+":5001/api/settings/domain/"+document.getElementById("domain").value;e.open("GET",t,!0),e.send(null)}},{key:"render",value:function(){var e="";return this.state.enable_message&&(e=i.a.createElement("div",{className:"alert_message"}," ",this.state.message," ")),i.a.createElement("div",{className:"assistant_container"},i.a.createElement("h1",null,"Homeware configuration assistant - Change to domain"),i.a.createElement("br",null),i.a.createElement("p",null,"Open your router config web page, look for ",i.a.createElement("i",null,"Port Forwarding")," and create the following rules."),e,i.a.createElement("div",{className:"assistant_text"},i.a.createElement("ul",null,i.a.createElement("li",null,"80 port:",i.a.createElement("ul",null,i.a.createElement("li",null,"Protocol: TCP"),i.a.createElement("li",null,"WAN start port: 80"),i.a.createElement("li",null,"WAN end port: 80"),i.a.createElement("li",null,"LAN start port: 80"),i.a.createElement("li",null,"LAN end port: 80"),i.a.createElement("li",null,"LAN host IP: The Raspberry Pi IP"))),i.a.createElement("li",null,"443 port:",i.a.createElement("ul",null,i.a.createElement("li",null,"Protocol: TCP"),i.a.createElement("li",null,"WAN start port: 443"),i.a.createElement("li",null,"WAN end port: 443"),i.a.createElement("li",null,"LAN start port: 443"),i.a.createElement("li",null,"LAN end port: 443"),i.a.createElement("li",null,"LAN host IP: The Raspberry Pi IP")))),i.a.createElement("p",null,"Now we must change to your domain."),i.a.createElement("input",{type:"text",id:"domain",placeholder:"Your domain"}),i.a.createElement("button",{type:"button",onClick:this.set},"Next")))}}]),a}(i.a.Component),N=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).next=n.next.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"next",value:function(){window.location.href="/assistant/ssl/"}},{key:"render",value:function(){return i.a.createElement("div",{className:"assistant_container"},i.a.createElement("h1",null,"Homeware configuration assistant - Change to domain"),i.a.createElement("p",null,"Congrats, now you are accessing your Homeware from the Internet. See the URL in the top bar :-) "),i.a.createElement("br",null),i.a.createElement("button",{type:"button",onClick:this.next},"Next"))}}]),a}(i.a.Component),O=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).next=n.next.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"next",value:function(){window.location.href="/assistant/google/"}},{key:"render",value:function(){return i.a.createElement("div",{className:"assistant_container"},i.a.createElement("h1",null,"Homeware configuration assistant - SSL certificate"),i.a.createElement("p",null,"Google needs to comunicate with the Raspberry Pi via HTTPS, so we need a SSL certicate for Homeware."),i.a.createElement("br",null),i.a.createElement("div",{className:"assistant_text"},i.a.createElement("p",null,"Open a terminal on your Raspberry Pi or connect to the Raspberry Pi using SSH and run:"),i.a.createElement("br",null),i.a.createElement("span",{className:"code"},"$ sudo certbot --nginx"),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("p",null,"Follow the Certbot instructions. When Certbot ask you about redirecting http to https, enable it.")),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("button",{type:"button",onClick:this.next},"Next"))}}]),a}(i.a.Component),k=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).next=n.next.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"next",value:function(){window.location.href="/assistant/initialize/"}},{key:"render",value:function(){return i.a.createElement("div",{className:"assistant_container"},i.a.createElement("h1",null,"Homeware configuration assistant - Google"),i.a.createElement("p",null,"Google needs to know where Homeware is."),i.a.createElement("br",null),i.a.createElement("div",{className:"assistant_text"},i.a.createElement("p",null,"Follow the instructions on this wiki ",i.a.createElement("a",{href:"https://github.com/kikeelectronico/Homeware-LAN/wiki/Connect-Homeware-LAN-with-Google",target:"blanck"},"https://github.com/kikeelectronico/Homeware-LAN/wiki/Connect-Homeware-LAN-with-Google"),"."),i.a.createElement("p",null,"During the process you will use the following Client Information. You will be able to change it from the ",i.a.createElement("i",null,"Settings")," page in the future."),i.a.createElement("span",{id:"actionOnGoogleData"},i.a.createElement("b",null,"Client ID:")," 123",i.a.createElement("br",null),i.a.createElement("b",null,"Client Secret:")," 456",i.a.createElement("br",null),i.a.createElement("b",null,"Authorization URL:")," https://<your.domain.com>/auth/",i.a.createElement("br",null),i.a.createElement("b",null,"Token URL:")," https://<your.domain.com>/token/",i.a.createElement("br",null),i.a.createElement("b",null,"Fulfillment URL:")," https://<your.domain.com>/smarthome/",i.a.createElement("br",null))),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("button",{type:"button",onClick:this.next},"Next"))}}]),a}(i.a.Component),w=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;Object(l.a)(this,a),n=t.call(this,e);var i=new XMLHttpRequest;i.onreadystatechange=function(){console.log(i.responseText)};var s="http://"+window.location.hostname+":5001/api/settings/setAssistantDone/";return i.open("GET",s,!0),i.send(null),setTimeout((function(){window.location.href="/"}),3e3),n}return Object(c.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{className:"assistant_container"},i.a.createElement("h1",null,"Homeware configuration assistant - Last touches"),i.a.createElement("p",null,"Homeware is giving it self the last touches."))}}]),a}(i.a.Component);var C=function(e){return i.a.createElement("div",{style:{marginTop:"5px",display:"grid",gridTemplateColumns:"40px auto"}},i.a.createElement("div",null,i.a.createElement("img",{src:e.image,alt:e.image,style:{width:"30px"}})),i.a.createElement("div",{style:{paddingTop:"4px"}},i.a.createElement("span",{style:{fontSize:"18px",cursor:"pointer"},onClick:e.exec?e.exec:function(){window.location.href=e.href}},e.title)))},x=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).toggle=n.toggle.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"toggle",value:function(){var e=new XMLHttpRequest;e.onload=function(t){4===e.readyState&&(200===e.status?this.props.reload():console.error(e.statusText))}.bind(this),e.open("POST",h+"api/status/update/"),e.setRequestHeader("Content-Type","application/json;charset=UTF-8"),e.setRequestHeader("authorization","baerer "+v("token")),e.send(JSON.stringify({id:this.props.id,param:"on",value:!this.props.on}))}},{key:"render",value:function(){return i.a.createElement("div",{style:{float:"left",marginLeft:"5px"}},i.a.createElement("img",{src:this.props.on?"/devices/onoff_on_true.png":"/devices/onoff_on_false.png",onClick:this.toggle,alt:this.props.image,style:{width:"30px"}}))}}]),a}(i.a.Component),T=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).go=n.go.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"go",value:function(){window.location.href="/devices/info/"+this.props.id+"/"}},{key:"render",value:function(){return i.a.createElement("div",{style:{float:"left",marginLeft:"5px"}},i.a.createElement("img",{src:"/devices/information.png",onClick:this.go,alt:this.props.image,style:{width:"30px"}}))}}]),a}(i.a.Component),S=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).go=n.go.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"go",value:function(){window.location.href="/devices/editor/"+this.props.id+"/"}},{key:"render",value:function(){return i.a.createElement("div",{style:{float:"left",marginLeft:"5px"}},i.a.createElement("img",{src:"/devices/edit.png",onClick:this.go,alt:this.props.image,style:{width:"30px"}}))}}]),a}(i.a.Component),j=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e="yellow";this.props.device.traits.includes("action.devices.traits.ColorSetting")&&(e=Object.keys(this.props.status.color).includes("spectrumRgb")?"#"+this.props.status.color.spectrumRgb.toString(16):"#"+this.props.status.color.spectrumRGB.toString(16));var t={width:"100%",height:"20px",borderRadius:"20px 20px 0px 0px",backgroundColor:e,opacity:this.props.status.on?"1":"0.4"};return i.a.createElement("div",null,i.a.createElement("div",{className:"device_card"},i.a.createElement("div",{style:t}),i.a.createElement("h2",{className:"device_card_title"},this.props.device.name.name),i.a.createElement("hr",{className:"device_card_divider"}),i.a.createElement("div",{style:{paddingLeft:"50px"}},i.a.createElement(x,{id:this.props.device.id,on:this.props.status.on,reload:this.props.reload}),i.a.createElement(T,{id:this.props.device.id}),i.a.createElement(S,{id:this.props.device.id}))))}}]),a}(i.a.Component),R=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e={width:"100%",height:"20px",borderRadius:"20px 20px 0px 0px",backgroundColor:"blue",opacity:this.props.status.on?"1":"0.4"};return i.a.createElement("div",null,i.a.createElement("div",{className:"device_card"},i.a.createElement("div",{style:e}),i.a.createElement("h2",{className:"device_card_title"},this.props.device.name.name),i.a.createElement("hr",{className:"device_card_divider"}),i.a.createElement("div",{style:{paddingLeft:"50px"}},i.a.createElement(x,{id:this.props.device.id,on:this.props.status.on,reload:this.props.reload}),i.a.createElement(T,{id:this.props.device.id}),i.a.createElement(S,{id:this.props.device.id}))))}}]),a}(i.a.Component),L=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).up=n.up.bind(Object(o.a)(n)),n.down=n.down.bind(Object(o.a)(n)),n.update=n.update.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"up",value:function(){var e=this.props.status.thermostatTemperatureSetpoint+1;this.update(e)}},{key:"down",value:function(){var e=this.props.status.thermostatTemperatureSetpoint-1;this.update(e)}},{key:"update",value:function(e){var t=new XMLHttpRequest;t.onload=function(e){4===t.readyState&&(200===t.status?this.props.reload():console.error(t.statusText))}.bind(this),t.open("POST",h+"api/status/update/"),t.setRequestHeader("Content-Type","application/json;charset=UTF-8"),t.setRequestHeader("authorization","baerer "+v("token")),t.send(JSON.stringify({id:this.props.id,param:"thermostatTemperatureSetpoint",value:e}))}},{key:"render",value:function(){var e={width:"30px"};return i.a.createElement("div",{style:{float:"left",marginLeft:"5px"}},i.a.createElement("img",{src:"/devices/arrow_down.png",onClick:this.down,alt:"Arrow up",style:e}),i.a.createElement("span",{style:{fontSize:"30px",marginLeft:"5px",marginRight:"5px",color:"#777"}},this.props.status.thermostatTemperatureSetpoint),i.a.createElement("img",{src:"/devices/arrow_up.png",onClick:this.up,alt:"Arrow down",style:e}))}}]),a}(i.a.Component),A=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e="yellow";"off"===this.props.status.thermostatMode?e="#666":"heat"===this.props.status.thermostatMode?e="red":"cool"===this.props.status.thermostatMode?e="lightblue":"on"===this.props.status.thermostatMode?e="yellow":"heatcool"===this.props.status.thermostatMode?e="#DC97FF":"auto"===this.props.status.thermostatMode?e="#EE357E":"fan-only"===this.props.status.thermostatMode?e="blue":"purifier"===this.props.status.thermostatMode?e="#F3882E":"eco"===this.props.status.thermostatMode?e="green":"dry"===this.props.status.thermostatMode&&(e="#753500");var t={width:"100%",height:"20px",borderRadius:"20px 20px 0px 0px",backgroundColor:e,opacity:this.props.status.on?"1":"0.4"};return i.a.createElement("div",null,i.a.createElement("div",{className:"device_card"},i.a.createElement("div",{style:t}),i.a.createElement("h2",{className:"device_card_title"},this.props.device.name.name),i.a.createElement("hr",{className:"device_card_divider"}),i.a.createElement("div",{style:{paddingLeft:"50px"}},i.a.createElement(L,{id:this.props.device.id,status:this.props.status,on:this.props.status,reload:this.props.reload}),i.a.createElement(x,{id:this.props.device.id,on:this.props.status.on,reload:this.props.reload}),i.a.createElement(T,{id:this.props.device.id}),i.a.createElement(S,{id:this.props.device.id}))))}}]),a}(i.a.Component),M=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e={width:"100%",height:"20px",borderRadius:"20px 20px 0px 0px",backgroundColor:"yellow",opacity:this.props.status.on?"1":"0.4"};return i.a.createElement("div",null,i.a.createElement("div",{className:"device_card"},i.a.createElement("div",{style:e}),i.a.createElement("h2",{className:"device_card_title"},this.props.device.name.name),i.a.createElement("hr",{className:"device_card_divider"}),i.a.createElement("div",{style:{paddingLeft:"50px"}},i.a.createElement(x,{id:this.props.device.id,on:this.props.status.on,reload:this.props.reload}),i.a.createElement(T,{id:this.props.device.id}),i.a.createElement(S,{id:this.props.device.id}))))}}]),a}(i.a.Component),D=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e={width:"100%",height:"20px",borderRadius:"20px 20px 0px 0px",backgroundColor:"yellow",opacity:this.props.status.on?"1":"0.4"};return i.a.createElement("div",null,i.a.createElement("div",{className:"device_card"},i.a.createElement("div",{style:e}),i.a.createElement("h2",{className:"device_card_title"},this.props.device.name.name),i.a.createElement("hr",{className:"device_card_divider"}),i.a.createElement("div",{style:{paddingLeft:"50px"}},i.a.createElement(x,{id:this.props.device.id,on:this.props.status.on,reload:this.props.reload}),i.a.createElement(T,{id:this.props.device.id}),i.a.createElement(S,{id:this.props.device.id}))))}}]),a}(i.a.Component),I=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{className:"device_card"},i.a.createElement("div",{style:{width:"100%",height:"20px",borderRadius:"20px 20px 0px 0px",backgroundColor:"white"}}),i.a.createElement("h2",{className:"device_card_title"},this.props.device.name.name),i.a.createElement("hr",{className:"device_card_divider"}),i.a.createElement("div",{style:{paddingLeft:"50px"}},i.a.createElement(T,{id:this.props.device.id}),i.a.createElement(S,{id:this.props.device.id}))))}}]),a}(i.a.Component),H=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e={width:"100%",height:"20px",borderRadius:"20px 20px 0px 0px",backgroundColor:"yellow",opacity:this.props.status.on?"1":"0.4"};return i.a.createElement("div",null,i.a.createElement("div",{className:"device_card"},i.a.createElement("div",{style:e}),i.a.createElement("h2",{className:"device_card_title"},this.props.device.name.name),i.a.createElement("hr",{className:"device_card_divider"}),i.a.createElement("div",{style:{paddingLeft:"50px"}},i.a.createElement(x,{id:this.props.device.id,on:this.props.status.on,reload:this.props.reload}),i.a.createElement(T,{id:this.props.device.id}),i.a.createElement(S,{id:this.props.device.id}))))}}]),a}(i.a.Component),P=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e={width:"100%",height:"20px",borderRadius:"20px 20px 0px 0px",backgroundColor:"yellow",opacity:this.props.status.on?"1":"0.4"};return i.a.createElement("div",null,i.a.createElement("div",{className:"device_card"},i.a.createElement("div",{style:e}),i.a.createElement("h2",{className:"device_card_title"},this.props.device.name.name),i.a.createElement("hr",{className:"device_card_divider"}),i.a.createElement("div",{style:{paddingLeft:"50px"}},i.a.createElement(x,{id:this.props.device.id,on:this.props.status.on,reload:this.props.reload}),i.a.createElement(T,{id:this.props.device.id}),i.a.createElement(S,{id:this.props.device.id}))))}}]),a}(i.a.Component),F=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e={width:"100%",height:"20px",borderRadius:"20px 20px 0px 0px",backgroundColor:"yellow",opacity:this.props.status.on?"1":"0.4"};return i.a.createElement("div",null,i.a.createElement("div",{className:"device_card"},i.a.createElement("div",{style:e}),i.a.createElement("h2",{className:"device_card_title"},this.props.device.name.name),i.a.createElement("hr",{className:"device_card_divider"}),i.a.createElement("div",{style:{paddingLeft:"50px"}},i.a.createElement(x,{id:this.props.device.id,on:this.props.status.on,reload:this.props.reload}),i.a.createElement(T,{id:this.props.device.id}),i.a.createElement(S,{id:this.props.device.id}))))}}]),a}(i.a.Component),q=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e={width:"100%",height:"20px",borderRadius:"20px 20px 0px 0px",backgroundColor:"yellow",opacity:this.props.status.on?"1":"0.4"};return i.a.createElement("div",null,i.a.createElement("div",{className:"device_card"},i.a.createElement("div",{style:e}),i.a.createElement("h2",{className:"device_card_title"},this.props.device.name.name),i.a.createElement("hr",{className:"device_card_divider"}),i.a.createElement("div",{style:{paddingLeft:"50px"}},i.a.createElement(x,{id:this.props.device.id,on:this.props.status.on,reload:this.props.reload}),i.a.createElement(T,{id:this.props.device.id}),i.a.createElement(S,{id:this.props.device.id}))))}}]),a}(i.a.Component),U=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e="yellow";"off"===this.props.status.thermostatMode?e="#666":"heat"===this.props.status.thermostatMode?e="red":"cool"===this.props.status.thermostatMode?e="lightblue":"on"===this.props.status.thermostatMode?e="yellow":"heatcool"===this.props.status.thermostatMode?e="#DC97FF":"auto"===this.props.status.thermostatMode?e="#EE357E":"fan-only"===this.props.status.thermostatMode?e="blue":"purifier"===this.props.status.thermostatMode?e="#F3882E":"eco"===this.props.status.thermostatMode?e="green":"dry"===this.props.status.thermostatMode&&(e="#753500");var t={width:"100%",height:"20px",borderRadius:"20px 20px 0px 0px",backgroundColor:e};return i.a.createElement("div",null,i.a.createElement("div",{className:"device_card"},i.a.createElement("div",{style:t}),i.a.createElement("h2",{className:"device_card_title"},this.props.device.name.name),i.a.createElement("hr",{className:"device_card_divider"}),i.a.createElement("div",{style:{paddingLeft:"50px"}},i.a.createElement(L,{id:this.props.device.id,status:this.props.status,on:this.props.status,reload:this.props.reload}),i.a.createElement(T,{id:this.props.device.id}),i.a.createElement(S,{id:this.props.device.id}))))}}]),a}(i.a.Component),G=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e="yellow";this.props.device.traits.includes("action.devices.traits.ColorSetting")&&(e="#"+this.props.status.color.spectrumRgb.toString(16));var t={width:"100%",height:"20px",borderRadius:"20px 20px 0px 0px",backgroundColor:e,opacity:this.props.status.on?"1":"0.4"};return i.a.createElement("div",null,i.a.createElement("div",{className:"device_card"},i.a.createElement("div",{style:t}),i.a.createElement("h2",{className:"device_card_title"},this.props.device.name.name),i.a.createElement("hr",{className:"device_card_divider"}),i.a.createElement("div",{style:{paddingLeft:"50px"}},i.a.createElement(x,{id:this.props.device.id,on:this.props.status.on,reload:this.props.reload}),i.a.createElement(T,{id:this.props.device.id}),i.a.createElement(S,{id:this.props.device.id}))))}}]),a}(i.a.Component),B=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e="yellow";this.props.device.traits.includes("action.devices.traits.ColorSetting")&&(e="#"+this.props.status.color.spectrumRgb.toString(16));var t={width:"100%",height:"20px",borderRadius:"20px 20px 0px 0px",backgroundColor:e,opacity:this.props.status.on?"1":"0.4"};return i.a.createElement("div",null,i.a.createElement("div",{className:"device_card"},i.a.createElement("div",{style:t}),i.a.createElement("h2",{className:"device_card_title"},this.props.device.name.name),i.a.createElement("hr",{className:"device_card_divider"}),i.a.createElement("div",{style:{paddingLeft:"50px"}},i.a.createElement(x,{id:this.props.device.id,on:this.props.status.on,reload:this.props.reload}),i.a.createElement(T,{id:this.props.device.id}),i.a.createElement(S,{id:this.props.device.id}))))}}]),a}(i.a.Component),V=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{className:"device_card"},i.a.createElement("div",{style:{width:"100%",height:"20px",borderRadius:"20px 20px 0px 0px",backgroundColor:"white"}}),i.a.createElement("h2",{className:"device_card_title"},this.props.device.name.name),i.a.createElement("hr",{className:"device_card_divider"}),i.a.createElement("div",{style:{paddingLeft:"50px"}},i.a.createElement(T,{id:this.props.device.id}),i.a.createElement(S,{id:this.props.device.id}))))}}]),a}(i.a.Component),W=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{className:"device_card"},i.a.createElement("div",{style:{width:"100%",height:"20px",borderRadius:"20px 20px 0px 0px",backgroundColor:"white"}}),i.a.createElement("h2",{className:"device_card_title"},this.props.device.name.name),i.a.createElement("hr",{className:"device_card_divider"}),i.a.createElement("div",{style:{paddingLeft:"50px"}},i.a.createElement(T,{id:this.props.device.id}),i.a.createElement(S,{id:this.props.device.id}))))}}]),a}(i.a.Component),K=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{className:"device_card"},i.a.createElement("div",{style:{width:"100%",height:"20px",borderRadius:"20px 20px 0px 0px",backgroundColor:"white"}}),i.a.createElement("h2",{className:"device_card_title"},this.props.device.name.name),i.a.createElement("hr",{className:"device_card_divider"}),i.a.createElement("div",{style:{paddingLeft:"50px"}},i.a.createElement(T,{id:this.props.device.id}),i.a.createElement(S,{id:this.props.device.id}))))}}]),a}(i.a.Component),X=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{className:"device_card"},i.a.createElement("div",{style:{width:"100%",height:"20px",borderRadius:"20px 20px 0px 0px",backgroundColor:"white"}}),i.a.createElement("h2",{className:"device_card_title"},this.props.device.name.name),i.a.createElement("hr",{className:"device_card_divider"}),i.a.createElement("div",{style:{paddingLeft:"50px"}},i.a.createElement(T,{id:this.props.device.id}),i.a.createElement(S,{id:this.props.device.id}))))}}]),a}(i.a.Component),z=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{className:"device_card"},i.a.createElement("div",{style:{width:"100%",height:"20px",borderRadius:"20px 20px 0px 0px",backgroundColor:"white"}}),i.a.createElement("h2",{className:"device_card_title"},this.props.device.name.name),i.a.createElement("hr",{className:"device_card_divider"}),i.a.createElement("div",{style:{paddingLeft:"50px"}},i.a.createElement(T,{id:this.props.device.id}),i.a.createElement(S,{id:this.props.device.id}))))}}]),a}(i.a.Component),J=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{className:"device_card"},i.a.createElement("div",{style:{width:"100%",height:"20px",borderRadius:"20px 20px 0px 0px",backgroundColor:"white"}}),i.a.createElement("h2",{className:"device_card_title"},this.props.device.name.name),i.a.createElement("hr",{className:"device_card_divider"}),i.a.createElement("div",{style:{paddingLeft:"50px"}},i.a.createElement(T,{id:this.props.device.id}),i.a.createElement(S,{id:this.props.device.id}))))}}]),a}(i.a.Component),Y=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{className:"device_card"},i.a.createElement("div",{style:{width:"100%",height:"20px",borderRadius:"20px 20px 0px 0px",backgroundColor:"white"}}),i.a.createElement("h2",{className:"device_card_title"},this.props.device.name.name),i.a.createElement("hr",{className:"device_card_divider"}),i.a.createElement("div",{style:{paddingLeft:"50px"}},i.a.createElement(T,{id:this.props.device.id}),i.a.createElement(S,{id:this.props.device.id}))))}}]),a}(i.a.Component),Q=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{className:"device_card"},i.a.createElement("div",{style:{width:"100%",height:"20px",borderRadius:"20px 20px 0px 0px",backgroundColor:"white"}}),i.a.createElement("h2",{className:"device_card_title"},this.props.device.name.name),i.a.createElement("hr",{className:"device_card_divider"}),i.a.createElement("div",{style:{paddingLeft:"50px"}},i.a.createElement(T,{id:this.props.device.id}),i.a.createElement(S,{id:this.props.device.id}))))}}]),a}(i.a.Component),Z=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{className:"device_card"},i.a.createElement("div",{style:{width:"100%",height:"20px",borderRadius:"20px 20px 0px 0px",backgroundColor:"white"}}),i.a.createElement("h2",{className:"device_card_title"},this.props.device.name.name),i.a.createElement("hr",{className:"device_card_divider"}),i.a.createElement("div",{style:{paddingLeft:"50px"}},i.a.createElement(T,{id:this.props.device.id}),i.a.createElement(S,{id:this.props.device.id}))))}}]),a}(i.a.Component),$=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{className:"device_card"},i.a.createElement("div",{style:{width:"100%",height:"20px",borderRadius:"20px 20px 0px 0px",backgroundColor:"white"}}),i.a.createElement("h2",{className:"device_card_title"},this.props.device.name.name),i.a.createElement("hr",{className:"device_card_divider"}),i.a.createElement("div",{style:{paddingLeft:"50px"}},i.a.createElement(T,{id:this.props.device.id}),i.a.createElement(S,{id:this.props.device.id}))))}}]),a}(i.a.Component),ee=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{className:"device_card"},i.a.createElement("div",{style:{width:"100%",height:"20px",borderRadius:"20px 20px 0px 0px",backgroundColor:"white"}}),i.a.createElement("h2",{className:"device_card_title"},this.props.device.name.name),i.a.createElement("hr",{className:"device_card_divider"}),i.a.createElement("div",{style:{paddingLeft:"50px"}},i.a.createElement(T,{id:this.props.device.id}),i.a.createElement(S,{id:this.props.device.id}))))}}]),a}(i.a.Component),te=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{className:"device_card"},i.a.createElement("div",{style:{width:"100%",height:"20px",borderRadius:"20px 20px 0px 0px",backgroundColor:"white"}}),i.a.createElement("h2",{className:"device_card_title"},this.props.device.name.name),i.a.createElement("hr",{className:"device_card_divider"}),i.a.createElement("div",{style:{paddingLeft:"50px"}},i.a.createElement(T,{id:this.props.device.id}),i.a.createElement(S,{id:this.props.device.id}))))}}]),a}(i.a.Component),ae=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{className:"device_card"},i.a.createElement("div",{style:{width:"100%",height:"20px",borderRadius:"20px 20px 0px 0px",backgroundColor:"white"}}),i.a.createElement("h2",{className:"device_card_title"},this.props.device.name.name),i.a.createElement("hr",{className:"device_card_divider"}),i.a.createElement("div",{style:{paddingLeft:"50px"}},i.a.createElement(T,{id:this.props.device.id}),i.a.createElement(S,{id:this.props.device.id}))))}}]),a}(i.a.Component),ne=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e="yellow";this.props.device.traits.includes("action.devices.traits.ColorSetting")&&(e="#"+this.props.status.color.spectrumRgb.toString(16));var t={width:"100%",height:"20px",borderRadius:"20px 20px 0px 0px",backgroundColor:e,opacity:this.props.status.on?"1":"0.4"};return i.a.createElement("div",null,i.a.createElement("div",{className:"device_card"},i.a.createElement("div",{style:t}),i.a.createElement("h2",{className:"device_card_title"},this.props.device.name.name),i.a.createElement("hr",{className:"device_card_divider"}),i.a.createElement("div",{style:{paddingLeft:"50px"}},i.a.createElement(x,{id:this.props.device.id,on:this.props.status.on,reload:this.props.reload}),i.a.createElement(T,{id:this.props.device.id}),i.a.createElement(S,{id:this.props.device.id}))))}}]),a}(i.a.Component),ie=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e="yellow";this.props.device.traits.includes("action.devices.traits.ColorSetting")&&(e="#"+this.props.status.color.spectrumRgb.toString(16));var t={width:"100%",height:"20px",borderRadius:"20px 20px 0px 0px",backgroundColor:e,opacity:this.props.status.on?"1":"0.4"};return i.a.createElement("div",null,i.a.createElement("div",{className:"device_card"},i.a.createElement("div",{style:t}),i.a.createElement("h2",{className:"device_card_title"},this.props.device.name.name),i.a.createElement("hr",{className:"device_card_divider"}),i.a.createElement("div",{style:{paddingLeft:"50px"}},i.a.createElement(x,{id:this.props.device.id,on:this.props.status.on,reload:this.props.reload}),i.a.createElement(T,{id:this.props.device.id}),i.a.createElement(S,{id:this.props.device.id}))))}}]),a}(i.a.Component),se=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{className:"device_card"},i.a.createElement("div",{style:{width:"100%",height:"20px",borderRadius:"20px 20px 0px 0px",backgroundColor:"white"}}),i.a.createElement("h2",{className:"device_card_title"},this.props.device.name.name),i.a.createElement("hr",{className:"device_card_divider"}),i.a.createElement("div",{style:{paddingLeft:"50px"}},i.a.createElement(T,{id:this.props.device.id}),i.a.createElement(S,{id:this.props.device.id}))))}}]),a}(i.a.Component),re=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e="yellow";this.props.device.traits.includes("action.devices.traits.ColorSetting")&&(e="#"+this.props.status.color.spectrumRgb.toString(16));var t={width:"100%",height:"20px",borderRadius:"20px 20px 0px 0px",backgroundColor:e,opacity:this.props.status.on?"1":"0.4"};return i.a.createElement("div",null,i.a.createElement("div",{className:"device_card"},i.a.createElement("div",{style:t}),i.a.createElement("h2",{className:"device_card_title"},this.props.device.name.name),i.a.createElement("hr",{className:"device_card_divider"}),i.a.createElement("div",{style:{paddingLeft:"50px"}},i.a.createElement(x,{id:this.props.device.id,on:this.props.status.on,reload:this.props.reload}),i.a.createElement(T,{id:this.props.device.id}),i.a.createElement(S,{id:this.props.device.id}))))}}]),a}(i.a.Component),le=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e={width:"100%",height:"20px",borderRadius:"20px 20px 0px 0px",backgroundColor:"white"};return i.a.createElement("div",null,i.a.createElement("div",{className:"device_card"},i.a.createElement("div",{style:e}),i.a.createElement("h2",{className:"device_card_title"},this.props.device.name.name),i.a.createElement("hr",{className:"device_card_divider"}),i.a.createElement("div",{style:{paddingLeft:"50px"}},i.a.createElement(T,{id:this.props.device.id}),i.a.createElement(S,{id:this.props.device.id}))))}}]),a}(i.a.Component),ce=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e={width:"100%",height:"20px",borderRadius:"20px 20px 0px 0px",backgroundColor:"white"};return i.a.createElement("div",null,i.a.createElement("div",{className:"device_card"},i.a.createElement("div",{style:e}),i.a.createElement("h2",{className:"device_card_title"},"Scene: ",this.props.device.name.name),i.a.createElement("hr",{className:"device_card_divider"}),i.a.createElement("div",{style:{paddingLeft:"50px"}},i.a.createElement(T,{id:this.props.device.id}),i.a.createElement(S,{id:this.props.device.id}))))}}]),a}(i.a.Component),oe=(a(50),function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={data:{},devices:[]},n.loadData=n.loadData.bind(Object(o.a)(n)),n.newDevice=n.newDevice.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.loadData(),setInterval(this.loadData,3e3)}},{key:"loadData",value:function(){var e=new XMLHttpRequest;e.onload=function(t){if(4===e.readyState)if(200===e.status){var a=JSON.parse(e.responseText);this.setState({data:a,devices:a.devices})}else console.error(e.statusText)}.bind(this),e.open("GET",h+"api/global/get/"),e.setRequestHeader("authorization","baerer "+v("token")),e.send()}},{key:"newDevice",value:function(){window.location.href="/devices/editor/"}},{key:"render",value:function(){var e=this,t=this.state.devices.map((function(t){return"action.devices.types.LIGHT"===t.type?i.a.createElement(j,{key:t.id,device:t,status:e.state.data.status[t.id],reload:e.loadData}):"action.devices.types.OUTLET"===t.type?i.a.createElement(R,{key:t.id,device:t,status:e.state.data.status[t.id],reload:e.loadData}):"action.devices.types.AC_UNIT"===t.type?i.a.createElement(A,{key:t.id,device:t,status:e.state.data.status[t.id],reload:e.loadData}):"action.devices.types.AIRFRESHENER"===t.type?i.a.createElement(M,{key:t.id,device:t,status:e.state.data.status[t.id],reload:e.loadData}):"action.devices.types.AIRPURIFIER"===t.type?i.a.createElement(D,{key:t.id,device:t,status:e.state.data.status[t.id],reload:e.loadData}):"action.devices.types.BED"===t.type?i.a.createElement(I,{key:t.id,device:t,status:e.state.data.status[t.id],reload:e.loadData}):"action.devices.types.FAN"===t.type?i.a.createElement(H,{key:t.id,device:t,status:e.state.data.status[t.id],reload:e.loadData}):"action.devices.types.FIREPLACE"===t.type?i.a.createElement(P,{key:t.id,device:t,status:e.state.data.status[t.id],reload:e.loadData}):"action.devices.types.RADIATOR"===t.type?i.a.createElement(F,{key:t.id,device:t,status:e.state.data.status[t.id],reload:e.loadData}):"action.devices.types.SWITCH"===t.type?i.a.createElement(q,{key:t.id,device:t,status:e.state.data.status[t.id],reload:e.loadData}):"action.devices.types.THERMOSTAT"===t.type?i.a.createElement(U,{key:t.id,device:t,status:e.state.data.status[t.id],reload:e.loadData}):"action.devices.types.AIRCOOLER"===t.type?i.a.createElement(G,{key:t.id,device:t,status:e.state.data.status[t.id],reload:e.loadData}):"action.devices.types.BATHTUB"===t.type?i.a.createElement(B,{key:t.id,device:t,status:e.state.data.status[t.id],reload:e.loadData}):"action.devices.types.AWING"===t.type?i.a.createElement(V,{key:t.id,device:t,status:e.state.data.status[t.id],reload:e.loadData}):"action.devices.types.AIRCOOLER"===t.type?i.a.createElement(G,{key:t.id,device:t,status:e.state.data.status[t.id],reload:e.loadData}):"action.devices.types.BLINDS"===t.type?i.a.createElement(W,{key:t.id,device:t,status:e.state.data.status[t.id],reload:e.loadData}):"action.devices.types.CLOSET"===t.type?i.a.createElement(K,{key:t.id,device:t,status:e.state.data.status[t.id],reload:e.loadData}):"action.devices.types.CURTAIN"===t.type?i.a.createElement(X,{key:t.id,device:t,status:e.state.data.status[t.id],reload:e.loadData}):"action.devices.types.DOOR"===t.type?i.a.createElement(z,{key:t.id,device:t,status:e.state.data.status[t.id],reload:e.loadData}):"action.devices.types.DRAWER"===t.type?i.a.createElement(J,{key:t.id,device:t,status:e.state.data.status[t.id],reload:e.loadData}):"action.devices.types.GARAGE"===t.type?i.a.createElement(Y,{key:t.id,device:t,status:e.state.data.status[t.id],reload:e.loadData}):"action.devices.types.GATE"===t.type?i.a.createElement(ae,{key:t.id,device:t,status:e.state.data.status[t.id],reload:e.loadData}):"action.devices.types.PERGOLA"===t.type?i.a.createElement(Q,{key:t.id,device:t,status:e.state.data.status[t.id],reload:e.loadData}):"action.devices.types.SHUTTER"===t.type?i.a.createElement(Z,{key:t.id,device:t,status:e.state.data.status[t.id],reload:e.loadData}):"action.devices.types.VALVE"===t.type?i.a.createElement($,{key:t.id,device:t,status:e.state.data.status[t.id],reload:e.loadData}):"action.devices.types.WINDOW"===t.type?i.a.createElement(ee,{key:t.id,device:t,status:e.state.data.status[t.id],reload:e.loadData}):"action.devices.types.LOCK"===t.type?i.a.createElement(te,{key:t.id,device:t,status:e.state.data.status[t.id],reload:e.loadData}):"action.devices.types.HEATER"===t.type?i.a.createElement(ne,{key:t.id,device:t,status:e.state.data.status[t.id],reload:e.loadData}):"action.devices.types.HOOD"===t.type?i.a.createElement(ie,{key:t.id,device:t,status:e.state.data.status[t.id],reload:e.loadData}):"action.devices.types.SECURITYSYSTEM"===t.type?i.a.createElement(se,{key:t.id,device:t,status:e.state.data.status[t.id],reload:e.loadData}):"action.devices.types.BLENDER"===t.type?i.a.createElement(re,{key:t.id,device:t,status:e.state.data.status[t.id],reload:e.loadData}):"action.devices.types.SCENE"===t.type?i.a.createElement(ce,{key:t.id,device:t,status:e.state.data.status[t.id],reload:e.loadData}):i.a.createElement(le,{key:t.id,device:t,status:e.state.data.status[t.id],reload:e.loadData})}));return i.a.createElement("div",null,i.a.createElement("div",{className:"page_title_container"},i.a.createElement("h2",null,"Devices and scences")),i.a.createElement("div",{className:"page_cards_container"},t),i.a.createElement("div",{className:"page_buttons_containter"},i.a.createElement("button",{type:"button",onClick:this.newDevice},"New")))}}]),a}(i.a.Component)),de=(a(32),function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).update=n.update.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"update",value:function(e){this.props.update(this.props.data,e.target.value)}},{key:"render",value:function(){return i.a.createElement("div",{className:"two_table_row"},i.a.createElement("div",{className:"two_table_cel"},this.props.name),i.a.createElement("div",{className:"two_table_cel"},i.a.createElement("input",{type:"text",className:"two_input",id:this.props.data,defaultValue:this.props.value,onChange:this.update})))}}]),a}(i.a.Component)),me=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).updateCheckbox=n.updateCheckbox.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"updateCheckbox",value:function(e){this.props.update("attributes/"+e.target.id,e.target.checked)}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{className:"three_table_row"},i.a.createElement("div",{className:"three_table_cel"}),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("label",null,i.a.createElement("input",{type:"checkbox",id:"sceneReversible",defaultChecked:this.props.sceneReversible,onChange:this.updateCheckbox}),i.a.createElement("span",{className:""},i.a.createElement("i",null,"sceneReversible")))),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("span",{className:"attribute_advise"},"Enable it if the scene can be desabled."))))}}]),a}(i.a.Component),ue=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).updateCheckbox=n.updateCheckbox.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"updateCheckbox",value:function(e){this.props.update("attributes/"+e.target.id,e.target.checked)}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{className:"three_table_row"},i.a.createElement("div",{className:"three_table_cel"}),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("label",null,i.a.createElement("input",{type:"checkbox",id:"commandOnlyOnOff",defaultChecked:this.props.attributes.commandOnlyOnOff,onChange:this.updateCheckbox}),i.a.createElement("span",{className:""},i.a.createElement("i",null,"commandOnlyOnOff")))),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("span",{className:"attribute_advise"},"Enable it if Homeware-LAN shouldn't inform Google Home about the state."))),i.a.createElement("div",{className:"three_table_row"},i.a.createElement("div",{className:"three_table_cel"}),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("label",null,i.a.createElement("input",{type:"checkbox",id:"queryOnlyOnOff",defaultChecked:this.props.attributes.queryOnlyOnOff,onChange:this.updateCheckbox}),i.a.createElement("span",{className:""},i.a.createElement("i",null,"queryOnlyOnOff")))),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("span",{className:"attribute_advise"},"Enable it if Google shouldn't change the device state."))))}}]),a}(i.a.Component),pe=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).updateCheckbox=n.updateCheckbox.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"updateCheckbox",value:function(e){this.props.update("attributes/"+e.target.id,e.target.checked)}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{className:"three_table_row"},i.a.createElement("div",{className:"three_table_cel"}),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("label",null,i.a.createElement("input",{type:"checkbox",id:"commandOnlyBrightness",defaultChecked:this.props.commandOnlyBrightness,onChange:this.updateCheckbox}),i.a.createElement("span",{className:""},i.a.createElement("i",null,"commandOnlyBrightness")))),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("span",{className:"attribute_advise"},"Enable it if Homeware-LAN shouldn't inform Google Home about the brightness."))))}}]),a}(i.a.Component),ve=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).updateCheckbox=n.updateCheckbox.bind(Object(o.a)(n)),n.updateFanSpeeds=n.updateFanSpeeds.bind(Object(o.a)(n)),n.addFanSpeed=n.addFanSpeed.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"updateCheckbox",value:function(e){this.props.update("attributes/"+e.target.id,e.target.checked)}},{key:"updateFanSpeeds",value:function(e){var t=e.target.id.split("_"),a=t[1],n="lang"===t[0]?t[0]:"speed_synonym",i="lang"===t[0]?e.target.value:e.target.value.split(","),s=this.props.attributes.availableFanSpeeds;s.speeds[a].speed_values[0][n]=i,"names"===t[0]&&(s.speeds[a].speed_name=i[0]),this.props.update("attributes/availableFanSpeeds",s)}},{key:"addFanSpeed",value:function(){var e=this.props.attributes.availableFanSpeeds;e.speeds.push({speed_name:"",speed_values:[{speed_synonym:[""],lang:"en"}]}),this.props.update("attributes/availableFanSpeeds",e)}},{key:"render",value:function(){var e=this,t={width:"150px"},a=this.props.attributes.availableFanSpeeds.speeds.map((function(a,n){return i.a.createElement("div",{key:n},i.a.createElement("div",{className:"two_table_row",key:n},i.a.createElement("div",{className:"two_table_cel"}),i.a.createElement("div",{className:"two_table_cel"},i.a.createElement("label",null,i.a.createElement("span",null,"Languaje: "),i.a.createElement("select",{name:"type",id:"lang_"+n,value:a.speed_values[0].lang,onChange:e.updateFanSpeeds},i.a.createElement("option",{value:"es"},"es"),i.a.createElement("option",{value:"en"},"en"))),i.a.createElement("label",null,i.a.createElement("span",null,"Speed name: "),i.a.createElement("input",{type:"text",id:"names_"+n,style:t,defaultValue:a.speed_values[0].speed_synonym,placeholder:"Speed name",onChange:e.updateFanSpeeds})))))}));return i.a.createElement("div",null,i.a.createElement("div",{className:"three_table_row"},i.a.createElement("div",{className:"three_table_cel"}),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("label",null,i.a.createElement("input",{type:"checkbox",id:"reversible",defaultChecked:this.props.attributes.reversible,onChange:this.updateCheckbox}),i.a.createElement("span",{className:""},i.a.createElement("i",null,"reversible")))),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("span",{className:"attribute_advise"},"Enable it if the fan supports blowing in both directions."))),i.a.createElement("div",{className:"three_table_row"},i.a.createElement("div",{className:"three_table_cel"}),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("label",null,i.a.createElement("input",{type:"checkbox",id:"supportsFanSpeedPercent",defaultChecked:this.props.attributes.supportsFanSpeedPercent,onChange:this.updateCheckbox}),i.a.createElement("span",{className:""},i.a.createElement("i",null,"supportsFanSpeedPercent")))),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("span",{className:"attribute_advise"},"Enable it if the speed can be controlled with a number from 0 to 100."))),i.a.createElement("div",{className:"three_table_row"},i.a.createElement("div",{className:"three_table_cel"}),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("label",null,i.a.createElement("input",{type:"checkbox",id:"commandOnlyFanSpeed",defaultChecked:this.props.attributes.commandOnlyFanSpeed,onChange:this.updateCheckbox}),i.a.createElement("span",{className:""},i.a.createElement("i",null,"commandOnlyFanSpeed")))),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("span",{className:"attribute_advise"},"Enable it if Homeware-LAN shouldn't inform Google Home about the fan speed."))),i.a.createElement("div",{className:"three_table_row"},i.a.createElement("div",{className:"three_table_cel"}),i.a.createElement("div",{className:"three_table_cel"},"Add a speed ",i.a.createElement("button",{type:"button",className:"add_attribute_button",onClick:this.addFanSpeed},"Add"))),a)}}]),a}(i.a.Component),he=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).update=n.update.bind(Object(o.a)(n)),n.updateCheckbox=n.updateCheckbox.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"update",value:function(e){this.props.update("attributes/"+e.target.id,e.target.value)}},{key:"updateCheckbox",value:function(e){this.props.update("attributes/"+e.target.id,e.target.checked)}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{className:"three_table_row"},i.a.createElement("div",{className:"three_table_cel"}),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("select",{name:"type",id:"colorModel",className:"table_input",value:this.props.attributes.colorModel,onChange:this.update},i.a.createElement("option",{value:""},"Select"),i.a.createElement("option",{value:"rgb"},"RGB light"),i.a.createElement("option",{value:"hsv"},"HSV light"),i.a.createElement("option",{value:""},"Color temperature"))),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("span",{className:"attribute_advise"}))),i.a.createElement("div",{className:"three_table_row"},i.a.createElement("div",{className:"three_table_cel"}),i.a.createElement("div",{className:"three_table_cel"},"Minimum temperature: ",i.a.createElement("input",{type:"number",id:"colorTemperatureRange/temperatureMinK",defaultValue:this.props.attributes.colorTemperatureRange?this.props.attributes.colorTemperatureRange.temperatureMinK:0,min:"0",max:"10000",onChange:this.update,className:"int_input"})),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("span",{className:"attribute_advise"},"Minimum color temperature (in Kelvin) supported by the device."))),i.a.createElement("div",{className:"three_table_row"},i.a.createElement("div",{className:"three_table_cel"}),i.a.createElement("div",{className:"three_table_cel"},"Maximum temperature: ",i.a.createElement("input",{type:"number",id:"colorTemperatureRange/temperatureMaxK",defaultValue:this.props.attributes.colorTemperatureRange?this.props.attributes.colorTemperatureRange.temperatureMaxK:0,min:"0",max:"10000",onChange:this.update,className:"int_input"})),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("span",{className:"attribute_advise"},"Maximum color temperature (in Kelvin) supported by the device."))),i.a.createElement("div",{className:"three_table_row"},i.a.createElement("div",{className:"three_table_cel"}),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("label",null,i.a.createElement("input",{type:"checkbox",id:"commandOnlyColorSetting",defaultChecked:this.props.attributes.commandOnlyColorSetting,onChange:this.updateCheckbox}),i.a.createElement("span",{className:""},i.a.createElement("i",null,"commandOnlyColorSetting")))),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("span",{className:"attribute_advise"},"Enable it if Homeware-LAN shouldn't inform Google Home about the color."))))}}]),a}(i.a.Component),be=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).update=n.update.bind(Object(o.a)(n)),n.updateMode=n.updateMode.bind(Object(o.a)(n)),n.addMode=n.addMode.bind(Object(o.a)(n)),n.updateCheckbox=n.updateCheckbox.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"update",value:function(e){this.props.update("attributes/"+e.target.id,e.target.value)}},{key:"updateMode",value:function(e){var t=e.target.id.split("_")[1],a=this.props.attributes.availableThermostatModes.split(",");"delete"===e.target.value?a.splice(t,1):"select"!==e.target.value&&(a[t]=e.target.value),this.props.update("attributes/availableThermostatModes",a.join(","))}},{key:"addMode",value:function(){var e=this.props.attributes.availableThermostatModes;e+=",",this.props.update("attributes/availableThermostatModes",e)}},{key:"updateCheckbox",value:function(e){this.props.update("attributes/"+e.target.id,e.target.checked)}},{key:"render",value:function(){var e=this,t=this.props.attributes.availableThermostatModes.split(",").map((function(t,a){return i.a.createElement("div",{key:a},i.a.createElement("div",{className:"two_table_row"},i.a.createElement("div",{className:"two_table_cel"}),i.a.createElement("div",{className:"two_table_cel"},i.a.createElement("label",null,i.a.createElement("span",null,"Mode: "),i.a.createElement("select",{name:"type",id:"mode_"+a,value:t,onChange:e.updateMode},i.a.createElement("option",{value:"select"},"Select a mode"),i.a.createElement("option",{value:"delete"},"Delete this mode"),i.a.createElement("option",{value:"off"},"Off"),i.a.createElement("option",{value:"heat"},"Heat"),i.a.createElement("option",{value:"cool"},"Cool"),i.a.createElement("option",{value:"on"},"On"),i.a.createElement("option",{value:"heatcool"},"Heatcool"),i.a.createElement("option",{value:"auto"},"Auto"),i.a.createElement("option",{value:"fan-only"},"Fan only"),i.a.createElement("option",{value:"purifier"},"Purifier"),i.a.createElement("option",{value:"eco"},"Eco"),i.a.createElement("option",{value:"dry"},"Dry"))))))}));return i.a.createElement("div",null,i.a.createElement("div",{className:"three_table_row"},i.a.createElement("div",{className:"three_table_cel"}),i.a.createElement("div",{className:"three_table_cel"},"Add a thermostat mode ",i.a.createElement("button",{type:"button",className:"add_attribute_button",onClick:this.addMode},"Add"))),t,i.a.createElement("div",{className:"three_table_row"},i.a.createElement("div",{className:"three_table_cel"}),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("label",null,i.a.createElement("input",{type:"checkbox",id:"commandOnlyTemperatureSetting",defaultChecked:this.props.attributes.commandOnlyTemperatureSetting,onChange:this.updateCheckbox}),i.a.createElement("span",{className:""},i.a.createElement("i",null,"commandOnlyTemperatureSetting")))),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("span",{className:"attribute_advise"},"Enable it if Homeware-LAN shouldn't inform Google Home about the temperature."))),i.a.createElement("div",{className:"three_table_row"},i.a.createElement("div",{className:"three_table_cel"}),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("label",null,i.a.createElement("input",{type:"checkbox",id:"queryOnlyTemperatureSetting",defaultChecked:this.props.attributes.queryOnlyTemperatureSetting,onChange:this.updateCheckbox}),i.a.createElement("span",{className:""},i.a.createElement("i",null,"queryOnlyTemperatureSetting")))),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("span",{className:"attribute_advise"},"Enable it if Google shouldn't change the device temperature settings."))),i.a.createElement("div",{className:"three_table_row"},i.a.createElement("div",{className:"three_table_cel"}),i.a.createElement("div",{className:"three_table_cel"},"Minimum temperature: ",i.a.createElement("input",{type:"number",id:"thermostatTemperatureRange/minThresholdCelsius",defaultValue:this.props.attributes.thermostatTemperatureRange?this.props.attributes.thermostatTemperatureRange.minThresholdCelsius:0,min:"0",max:"50",onChange:this.update,className:"int_input"})),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("span",{className:"attribute_advise"},"Minimum temperature (in Celsius) supported by the device."))),i.a.createElement("div",{className:"three_table_row"},i.a.createElement("div",{className:"three_table_cel"}),i.a.createElement("div",{className:"three_table_cel"},"Maximum temperature: ",i.a.createElement("input",{type:"number",id:"thermostatTemperatureRange/maxThresholdCelsius",defaultValue:this.props.attributes.thermostatTemperatureRange?this.props.attributes.thermostatTemperatureRange.maxThresholdCelsius:0,min:"0",max:"50",onChange:this.update,className:"int_input"})),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("span",{className:"attribute_advise"},"Maximum temperature (in Celsius) supported by the device."))),i.a.createElement("div",{className:"three_table_row"},i.a.createElement("div",{className:"three_table_cel"}),i.a.createElement("div",{className:"three_table_cel"},"Range: ",i.a.createElement("input",{type:"number",id:"bufferRangeCelsius",defaultValue:this.props.attributes.bufferRangeCelsius,min:"0",max:"50",onChange:this.update,className:"int_input"})),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("span",{className:"attribute_advise"},"Specifies the minimum offset between heat-cool setpoints in Celsius."))),i.a.createElement("div",{className:"three_table_row"},i.a.createElement("div",{className:"three_table_cel"}),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("select",{name:"type",id:"thermostatTemperatureUnit",className:"table_input",value:this.props.attributes.thermostatTemperatureUnit,onChange:this.update},i.a.createElement("option",{value:"C"},"Celsius"),i.a.createElement("option",{value:"F"},"Fahrenheit")))))}}]),a}(i.a.Component),Ee=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).updateCheckbox=n.updateCheckbox.bind(Object(o.a)(n)),n.updatetoggle=n.updatetoggle.bind(Object(o.a)(n)),n.addToggle=n.addToggle.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"updateCheckbox",value:function(e){this.props.update("attributes/"+e.target.id,e.target.checked)}},{key:"updatetoggle",value:function(e){var t=e.target.id.split("_"),a=t[1],n="lang"===t[0]?t[0]:"name_synonym",i="lang"===t[0]?e.target.value:e.target.value.split(","),s=this.props.attributes.availableToggles;s[a].name_values[0][n]=i,"names"===t[0]&&(s[a].name=i[0]),this.props.update("attributes/availableToggles",s)}},{key:"addToggle",value:function(){var e=this.props.attributes.availableToggles;e.push({name:"",name_values:[{name_synonym:[""],lang:"en"}]}),this.props.update("attributes/availableToggles",e)}},{key:"render",value:function(){var e=this,t={marginLeft:"20px",width:"150px"},a=this.props.attributes.availableToggles.map((function(a,n){return i.a.createElement("div",{key:n},i.a.createElement("div",{className:"two_table_row"},i.a.createElement("div",{className:"two_table_cel"}),i.a.createElement("div",{className:"two_table_cel"},i.a.createElement("label",null,i.a.createElement("span",null,"Languaje: "),i.a.createElement("select",{name:"type",id:"lang_"+n,value:a.name_values[0].lang,placeholder:"Name for the toggle",onChange:e.updatetoggle},i.a.createElement("option",{value:"es"},"es"),i.a.createElement("option",{value:"en"},"en"))),i.a.createElement("label",null,i.a.createElement("span",null,"Name: "),i.a.createElement("input",{type:"text",id:"names_"+n,style:t,defaultValue:a.name_values[0].name_synonym,placeholder:"Name",onChange:e.updatetoggle})))))}));return i.a.createElement("div",null,i.a.createElement("div",{className:"three_table_row"},i.a.createElement("div",{className:"three_table_cel"}),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("label",null,i.a.createElement("input",{type:"checkbox",id:"commandOnlyToggles",defaultChecked:this.props.attributes.reversible,onChange:this.updateCheckbox}),i.a.createElement("span",{className:""},i.a.createElement("i",null,"commandOnlyToggles")))),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("span",{className:"attribute_advise"},"Enable it if Homeware-LAN shouldn't inform Google Home about the states."))),i.a.createElement("div",{className:"three_table_row"},i.a.createElement("div",{className:"three_table_cel"}),i.a.createElement("div",{className:"three_table_cel"},"Add a toggle ",i.a.createElement("button",{type:"button",className:"add_attribute_button",onClick:this.addToggle},"Add"))),a)}}]),a}(i.a.Component),ge=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).updateCheckbox=n.updateCheckbox.bind(Object(o.a)(n)),n.updateMode=n.updateMode.bind(Object(o.a)(n)),n.addMode=n.addMode.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"updateCheckbox",value:function(e){this.props.update("attributes/"+e.target.id,e.target.checked)}},{key:"updateMode",value:function(e){var t=e.target.id.split("_"),a=t[1],n=this.props.attributes.availableModes;if("lang"===t[0])n[a].name_values[0].lang=e.target.value;else if("names"===t[0])n[a].name_values[0].name_synonym=e.target.value.split(","),n[a].name=e.target.value.split(",")[0];else if("settings"===t[0]){for(var i=e.target.value.split(","),s=[],r=0;r<i.length;r++)s.push({setting_name:i[r],setting_values:[{setting_synonym:[i[r]],lang:this.props.attributes.availableModes[a].name_values[0].lang}]});n[a].settings=s}this.props.update("attributes/availableModes",n)}},{key:"addMode",value:function(){var e=this.props.attributes.availableModes;e.push({name:"",name_values:[{name_synonym:[""],lang:"en"}],settings:[{setting_name:"",setting_values:[{setting_synonym:[""],lang:"en"}]}]}),this.props.update("attributes/availableModes",e)}},{key:"render",value:function(){var e=this,t={width:"150px"},a={width:"230px"},n=this.props.attributes.availableModes.map((function(n,s){var r=n.settings.map((function(e,t){return e.setting_name}));return i.a.createElement("div",{key:s},i.a.createElement("div",{className:"two_table_row"},i.a.createElement("div",{className:"two_table_cel"}),i.a.createElement("div",{className:"two_table_cel"},i.a.createElement("label",null,i.a.createElement("span",null,"Languaje: "),i.a.createElement("select",{name:"type",id:"lang_"+s,value:n.name_values[0].lang,onChange:e.updateMode},i.a.createElement("option",{value:"es"},"es"),i.a.createElement("option",{value:"en"},"en"))),i.a.createElement("label",null,i.a.createElement("span",null,"Mode name: "),i.a.createElement("input",{type:"text",id:"names_"+s,style:t,defaultValue:n.name_values[0].name_synonym,placeholder:"Mode name",onChange:e.updateMode})),i.a.createElement("label",null,i.a.createElement("span",null,"Mode settings: "),i.a.createElement("input",{type:"text",id:"settings_"+s,style:a,defaultValue:r,placeholder:"Separated by commas",onChange:e.updateMode})))))}));return i.a.createElement("div",null,i.a.createElement("div",{className:"three_table_row"},i.a.createElement("div",{className:"three_table_cel"}),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("label",null,i.a.createElement("input",{type:"checkbox",id:"commandOnlyModes",defaultChecked:this.props.attributes.reversible,onChange:this.updateCheckbox}),i.a.createElement("span",{className:""},i.a.createElement("i",null,"commandOnlyModes")))),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("span",{className:"attribute_advise"},"Enable it if Homeware-LAN shouldn't inform Google Home about the modes."))),i.a.createElement("div",{className:"three_table_row"},i.a.createElement("div",{className:"three_table_cel"}),i.a.createElement("div",{className:"three_table_cel"},"Add a mode ",i.a.createElement("button",{type:"button",className:"add_attribute_button",onClick:this.addMode},"Add"))),n)}}]),a}(i.a.Component),_e=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).update=n.update.bind(Object(o.a)(n)),n.updateCheckbox=n.updateCheckbox.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"update",value:function(e){this.props.update("attributes/"+e.target.id,e.target.value)}},{key:"updateCheckbox",value:function(e){this.props.update("attributes/"+e.target.id,e.target.checked)}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{className:"three_table_row"},i.a.createElement("div",{className:"three_table_cel"}),i.a.createElement("div",{className:"three_table_cel"},"Minimum humidity ",i.a.createElement("input",{type:"number",id:"humiditySetpointRange/minPercent",defaultValue:this.props.attributes.humiditySetpointRange?this.props.attributes.humiditySetpointRange.minPercent:0,min:"0",max:"100",onChange:this.update,className:"int_input"})),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("span",{className:"attribute_advise"},"Minimum humidity level as percentage."))),i.a.createElement("div",{className:"three_table_row"},i.a.createElement("div",{className:"three_table_cel"}),i.a.createElement("div",{className:"three_table_cel"},"Maximum humidity ",i.a.createElement("input",{type:"number",id:"humiditySetpointRange/maxPercent",defaultValue:this.props.attributes.humiditySetpointRange?this.props.attributes.humiditySetpointRange.maxPercent:0,min:"0",max:"100",onChange:this.update,className:"int_input"})),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("span",{className:"attribute_advise"},"Maximum humidity level as percentage."))),i.a.createElement("div",{className:"three_table_row"},i.a.createElement("div",{className:"three_table_cel"}),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("label",null,i.a.createElement("input",{type:"checkbox",id:"commandOnlyHumiditySetting",defaultChecked:this.props.attributes.commandOnlyHumiditySetting,onChange:this.updateCheckbox}),i.a.createElement("span",{className:""},i.a.createElement("i",null,"commandOnlyHumiditySetting")))),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("span",{className:"attribute_advise"},"Enable it if Homeware-LAN shouldn't inform Google Home about the humidity."))),i.a.createElement("div",{className:"three_table_row"},i.a.createElement("div",{className:"three_table_cel"}),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("label",null,i.a.createElement("input",{type:"checkbox",id:"queryOnlyHumiditySetting",defaultChecked:this.props.attributes.queryOnlyHumiditySetting,onChange:this.updateCheckbox}),i.a.createElement("span",{className:""},i.a.createElement("i",null,"queryOnlyHumiditySetting")))),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("span",{className:"attribute_advise"},"Enable it if Google shouldn't change the device humidity."))))}}]),a}(i.a.Component),ye=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).updateCheckbox=n.updateCheckbox.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"updateCheckbox",value:function(e){this.props.update("attributes/"+e.target.id,e.target.checked)}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{className:"three_table_row"},i.a.createElement("div",{className:"three_table_cel"}),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("label",null,i.a.createElement("input",{type:"checkbox",id:"discreteOnlyOpenClose",defaultChecked:this.props.attributes.discreteOnlyOpenClose,onChange:this.updateCheckbox}),i.a.createElement("span",{className:""},i.a.createElement("i",null,"discreteOnlyOpenClose")))),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("span",{className:"attribute_advise"},"Enable it if the device must either be fully open or fully closed."))),i.a.createElement("div",{className:"three_table_row"},i.a.createElement("div",{className:"three_table_cel"}),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("label",null,i.a.createElement("input",{type:"checkbox",id:"commandOnlyOpenClose",defaultChecked:this.props.attributes.commandOnlyOpenClose,onChange:this.updateCheckbox}),i.a.createElement("span",{className:""},i.a.createElement("i",null,"commandOnlyOpenClose")))),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("span",{className:"attribute_advise"},"Enable it if Homeware-LAN shouldn't inform Google Home about the state."))),i.a.createElement("div",{className:"three_table_row"},i.a.createElement("div",{className:"three_table_cel"}),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("label",null,i.a.createElement("input",{type:"checkbox",id:"queryOnlyOpenClose",defaultChecked:this.props.attributes.queryOnlyOpenClose,onChange:this.updateCheckbox}),i.a.createElement("span",{className:""},i.a.createElement("i",null,"queryOnlyOpenClose")))),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("span",{className:"attribute_advise"},"Enable it if Google shouldn't change the device state."))))}}]),a}(i.a.Component),fe=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).update=n.update.bind(Object(o.a)(n)),n.updateCheckbox=n.updateCheckbox.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"update",value:function(e){this.props.update("attributes/"+e.target.id,e.target.value)}},{key:"updateCheckbox",value:function(e){this.props.update("attributes/"+e.target.id,e.target.checked)}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{className:"three_table_row"},i.a.createElement("div",{className:"three_table_cel"}),i.a.createElement("div",{className:"three_table_cel"},"Minimum rotation: ",i.a.createElement("input",{type:"number",id:"rotationDegreesRange/rotationDegreesMin",defaultValue:this.props.attributes.rotationDegreesRange?this.props.attributes.rotationDegreesRange.rotationDegreesMin:0,min:"0",max:"100",onChange:this.update,className:"int_input"})),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("span",{className:"attribute_advise"},"Minimum rotation degrees that a device can rotate."))),i.a.createElement("div",{className:"three_table_row"},i.a.createElement("div",{className:"three_table_cel"}),i.a.createElement("div",{className:"three_table_cel"},"Maximum rotation: ",i.a.createElement("input",{type:"number",id:"rotationDegreesRange/rotationDegreesMax",defaultValue:this.props.attributes.rotationDegreesRange?this.props.attributes.rotationDegreesRange.rotationDegreesMax:0,min:"0",max:"100",onChange:this.update,className:"int_input"})),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("span",{className:"attribute_advise"},"Maximum rotation degrees that a device can rotate."))),i.a.createElement("div",{className:"three_table_row"},i.a.createElement("div",{className:"three_table_cel"}),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("label",null,i.a.createElement("input",{type:"checkbox",id:"commandOnlyRotation",defaultChecked:this.props.attributes.commandOnlyRotation,onChange:this.updateCheckbox}),i.a.createElement("span",{className:""},i.a.createElement("i",null,"commandOnlyRotation")))),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("span",{className:"attribute_advise"},"Enable it if Homeware-LAN shouldn't inform Google Home about the device."))),i.a.createElement("div",{className:"three_table_row"},i.a.createElement("div",{className:"three_table_cel"}),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("label",null,i.a.createElement("input",{type:"checkbox",id:"supportsContinuousRotation",defaultChecked:this.props.attributes.supportsContinuousRotation,onChange:this.updateCheckbox}),i.a.createElement("span",{className:""},i.a.createElement("i",null,"supportsContinuousRotation")))),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("span",{className:"attribute_advise"},"Enable it if the device supports continuous rotation."))),i.a.createElement("div",{className:"three_table_row"},i.a.createElement("div",{className:"three_table_cel"}),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("label",null,i.a.createElement("input",{type:"checkbox",id:"supportsDegrees",defaultChecked:this.props.attributes.supportsDegrees,onChange:this.updateCheckbox}),i.a.createElement("span",{className:""},i.a.createElement("i",null,"supportsDegrees")))),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("span",{className:"attribute_advise"},"Enable it if the device allows rotation by degree."))),i.a.createElement("div",{className:"three_table_row"},i.a.createElement("div",{className:"three_table_cel"}),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("label",null,i.a.createElement("input",{type:"checkbox",id:"supportsPercent",defaultChecked:this.props.attributes.supportsPercent,onChange:this.updateCheckbox}),i.a.createElement("span",{className:""},i.a.createElement("i",null,"supportsPercent")))),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("span",{className:"attribute_advise"},"Enable it if device allows rotation by percent."))))}}]),a}(i.a.Component),Ne=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).updateLevels=n.updateLevels.bind(Object(o.a)(n)),n.addLevel=n.addLevel.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"updateLevels",value:function(e){var t=e.target.id.split("_"),a=t[1],n="lang"===t[0]?t[0]:"level_synonym",i="lang"===t[0]?e.target.value:e.target.value.split(","),s=this.props.attributes.availableFillLevels;s.levels[a].level_values[0][n]=i,"names"===t[0]&&(s.levels[a].level_name=i[0]),this.props.update("attributes/availableFillLevels",s)}},{key:"addLevel",value:function(){var e=this.props.attributes.availableFillLevels;e.levels.push({level_name:"",level_values:[{level_synonym:[""],lang:"en"}]}),this.props.update("attributes/availableFillLevels",e)}},{key:"render",value:function(){var e=this,t={width:"150px"},a=this.props.attributes.availableFillLevels.levels.map((function(a,n){return i.a.createElement("div",{key:n},i.a.createElement("div",{className:"two_table_row",key:n},i.a.createElement("div",{className:"two_table_cel"}),i.a.createElement("div",{className:"two_table_cel"},i.a.createElement("label",null,i.a.createElement("span",null,"Languaje: "),i.a.createElement("select",{name:"type",id:"lang_"+n,value:a.level_values[0].lang,onChange:e.updateLevels},i.a.createElement("option",{value:"es"},"es"),i.a.createElement("option",{value:"en"},"en"))),i.a.createElement("label",null,i.a.createElement("span",null,"Fill level name: "),i.a.createElement("input",{type:"text",id:"names_"+n,style:t,defaultValue:a.level_values[0].level_synonym,placeholder:"Fill level name",onChange:e.updateLevels})))))}));return i.a.createElement("div",null,i.a.createElement("div",{className:"three_table_row"},i.a.createElement("div",{className:"three_table_cel"}),i.a.createElement("div",{className:"three_table_cel"},"Add a level ",i.a.createElement("button",{type:"button",className:"add_attribute_button",onClick:this.addLevel},"Add"))),a)}}]),a}(i.a.Component),Oe=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).updateSecurityLevel=n.updateSecurityLevel.bind(Object(o.a)(n)),n.addSecurityLevel=n.addSecurityLevel.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"updateSecurityLevel",value:function(e){var t=e.target.id.split("_"),a=t[1],n="lang"===t[0]?t[0]:"level_synonym",i="lang"===t[0]?e.target.value:e.target.value.split(","),s=this.props.attributes.availableArmLevels;s.levels[a].level_values[0][n]=i,"names"===t[0]&&(s.levels[a].level_name=i[0]),this.props.update("attributes/availableArmLevels",s)}},{key:"addSecurityLevel",value:function(){var e=this.props.attributes.availableArmLevels;e.levels.push({level_name:"",level_values:[{level_synonym:[""],lang:"en"}]}),this.props.update("attributes/availableArmLevels",e)}},{key:"render",value:function(){var e=this,t={marginLeft:"20px",width:"150px"},a=this.props.attributes.availableArmLevels.levels.map((function(a,n){return i.a.createElement("div",{key:n},i.a.createElement("div",{className:"two_table_row",key:n},i.a.createElement("div",{className:"two_table_cel"}),i.a.createElement("div",{className:"two_table_cel"},i.a.createElement("label",null,i.a.createElement("span",null,"Languaje: "),i.a.createElement("select",{name:"type",id:"lang_"+n,value:a.level_values[0].lang,onChange:e.updateSecurityLevel},i.a.createElement("option",{value:"es"},"es"),i.a.createElement("option",{value:"en"},"en"))),i.a.createElement("label",null,i.a.createElement("span",null,"Level name: "),i.a.createElement("input",{type:"text",id:"names_"+n,style:t,defaultValue:a.level_values[0].speed_synonym,placeholder:"Security level name",onChange:e.updateSecurityLevel})))))}));return i.a.createElement("div",null,i.a.createElement("div",{className:"three_table_row"},i.a.createElement("div",{className:"three_table_cel"}),i.a.createElement("div",{className:"three_table_cel"},"Add a security level ",i.a.createElement("button",{type:"button",className:"add_attribute_button",onClick:this.addSecurityLevel},"Add"))),a)}}]),a}(i.a.Component),ke=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).updateCheckbox=n.updateCheckbox.bind(Object(o.a)(n)),n.updateArray=n.updateArray.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"updateCheckbox",value:function(e){this.props.update("attributes/"+e.target.id,e.target.checked)}},{key:"updateArray",value:function(e){this.props.update("attributes/"+e.target.id,e.target.value.split(","))}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{className:"three_table_row"},i.a.createElement("div",{className:"three_table_cel"}),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("label",null,i.a.createElement("input",{type:"checkbox",id:"pausable",defaultChecked:this.props.attributes.pausable,onChange:this.updateCheckbox}),i.a.createElement("span",{className:""},i.a.createElement("i",null,"pausable")))),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("span",{className:"attribute_advise"},"Enable it if the device can be paused."))),i.a.createElement("div",{className:"two_table_row"},i.a.createElement("div",{className:"two_table_cel"}),i.a.createElement("div",{className:"two_table_cel"},"Zones: ",i.a.createElement("input",{type:"text",id:"availableThermostatModes",defaultValue:this.props.attributes.availableZones,onChange:this.updateArray,className:"text_input"}))),i.a.createElement("div",{className:"two_table_row"},i.a.createElement("div",{className:"two_table_cel"}),i.a.createElement("div",{className:"two_table_cel"},i.a.createElement("span",{className:"attribute_advise"},"Supported zones names separeted by commas."))))}}]),a}(i.a.Component),we=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).updateCheckbox=n.updateCheckbox.bind(Object(o.a)(n)),n.update=n.update.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"updateCheckbox",value:function(e){this.props.update("attributes/"+e.target.id,e.target.checked)}},{key:"update",value:function(e){this.props.update("attributes/"+e.target.id,e.target.value)}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{className:"three_table_row"},i.a.createElement("div",{className:"three_table_cel"}),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("label",null,i.a.createElement("input",{type:"checkbox",id:"commandOnlyTimer",defaultChecked:this.props.attributes.commandOnlyTimer,onChange:this.updateCheckbox}),i.a.createElement("span",{className:""},i.a.createElement("i",null,"commandOnlyTimer")))),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("span",{className:"attribute_advise"},"Enable it if Homeware-LAN shouldn't inform Google Home about the state."))),i.a.createElement("div",{className:"two_table_row"},i.a.createElement("div",{className:"two_table_cel"}),i.a.createElement("div",{className:"two_table_cel"},"Max time: ",i.a.createElement("input",{type:"text",id:"maxTimerLimitSec",defaultValue:this.props.attributes.maxTimerLimitSec,onChange:this.update,className:"text_input"}))),i.a.createElement("div",{className:"two_table_row"},i.a.createElement("div",{className:"two_table_cel"}),i.a.createElement("div",{className:"two_table_cel"},i.a.createElement("span",{className:"attribute_advise"},"Indicates the longest timer setting in seconds available on the device."))))}}]),a}(i.a.Component),Ce=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).update=n.update.bind(Object(o.a)(n)),n.updateCheckbox=n.updateCheckbox.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"update",value:function(e){this.props.update("attributes/"+e.target.id,e.target.value)}},{key:"updateCheckbox",value:function(e){this.props.update("attributes/"+e.target.id,e.target.checked)}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{className:"three_table_row"},i.a.createElement("div",{className:"three_table_cel"}),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("label",null,i.a.createElement("input",{type:"checkbox",id:"commandOnlyTemperatureControl",defaultChecked:this.props.attributes.commandOnlyTemperatureControl,onChange:this.updateCheckbox}),i.a.createElement("span",{className:""},i.a.createElement("i",null,"commandOnlyTemperatureControl")))),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("span",{className:"attribute_advise"},"Enable it if Homeware-LAN shouldn't inform Google Home about the temperature."))),i.a.createElement("div",{className:"three_table_row"},i.a.createElement("div",{className:"three_table_cel"}),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("label",null,i.a.createElement("input",{type:"checkbox",id:"queryOnlyTemperatureControl",defaultChecked:this.props.attributes.queryOnlyTemperatureControl,onChange:this.updateCheckbox}),i.a.createElement("span",{className:""},i.a.createElement("i",null,"queryOnlyTemperatureControl")))),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("span",{className:"attribute_advise"},"Enable it if Google shouldn't change the device temperature settings."))),i.a.createElement("div",{className:"three_table_row"},i.a.createElement("div",{className:"three_table_cel"}),i.a.createElement("div",{className:"three_table_cel"},"Minimum temperature: ",i.a.createElement("input",{type:"number",id:"temperatureRange/minThresholdCelsius",defaultValue:this.props.attributes.temperatureRange?this.props.attributes.temperatureRange.minThresholdCelsius:0,min:"0",max:"400",onChange:this.update,className:"int_input"})),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("span",{className:"attribute_advise"},"Minimum temperature (in Celsius) supported by the device."))),i.a.createElement("div",{className:"three_table_row"},i.a.createElement("div",{className:"three_table_cel"}),i.a.createElement("div",{className:"three_table_cel"},"Maximum temperature: ",i.a.createElement("input",{type:"number",id:"temperatureRange/maxThresholdCelsius",defaultValue:this.props.attributes.temperatureRange?this.props.attributes.temperatureRange.maxThresholdCelsius:0,min:"0",max:"400",onChange:this.update,className:"int_input"})),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("span",{className:"attribute_advise"},"Maximum temperature (in Celsius) supported by the device."))),i.a.createElement("div",{className:"three_table_row"},i.a.createElement("div",{className:"three_table_cel"}),i.a.createElement("div",{className:"three_table_cel"},"Step: ",i.a.createElement("input",{type:"number",id:"temperatureStepCelsius",defaultValue:this.props.attributes.temperatureStepCelsius,min:"0",max:"400",onChange:this.update,className:"int_input"})),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("span",{className:"attribute_advise"},"Specifies the relative temperature step."))),i.a.createElement("div",{className:"three_table_row"},i.a.createElement("div",{className:"three_table_cel"}),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("select",{name:"type",id:"temperatureUnitForUX",className:"table_input",value:this.props.attributes.temperatureUnitForUX,onChange:this.update},i.a.createElement("option",{value:"C"},"Celsius"),i.a.createElement("option",{value:"F"},"Fahrenheit")))))}}]),a}(i.a.Component),xe=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).updateMode=n.updateMode.bind(Object(o.a)(n)),n.addMode=n.addMode.bind(Object(o.a)(n)),n.updatePreset=n.updatePreset.bind(Object(o.a)(n)),n.addPreset=n.addPreset.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"updateMode",value:function(e){var t=e.target.id.split("_")[1],a=this.props.attributes.supportedCookingModes;"delete"===e.target.value?a.splice(t,1):"select"!==e.target.value&&(a[t]=e.target.value),this.props.update("attributes/supportedCookingModes",a)}},{key:"addMode",value:function(){var e=this.props.attributes.supportedCookingModes;e.push(""),this.props.update("attributes/supportedCookingModes",e)}},{key:"updatePreset",value:function(e){var t=e.target.id.split("_"),a=t[1],n=this.props.attributes.foodPresets;"lang"===t[0]?n[a].food_synonyms[0].lang=e.target.value:"names"===t[0]?(n[a].food_synonyms[0].synonym=e.target.value.split(","),n[a].food_preset_name=e.target.value.split(",")[0]):"units"===t[0]&&(n[a].supported_units[0]=e.target.value),this.props.update("attributes/foodPresets",n)}},{key:"addPreset",value:function(){var e=this.props.attributes.foodPresets;e.push({food_preset_name:"",supported_units:[""],food_synonyms:[{synonym:[""],language:"en"}]}),this.props.update("attributes/foodPresets",e)}},{key:"render",value:function(){var e=this,t={width:"150px"},a=this.props.attributes.supportedCookingModes.map((function(t,a){return i.a.createElement("div",{key:a},i.a.createElement("div",{className:"two_table_row"},i.a.createElement("div",{className:"two_table_cel"}),i.a.createElement("div",{className:"two_table_cel"},i.a.createElement("label",null,i.a.createElement("span",null,"Mode: "),i.a.createElement("select",{name:"type",id:"mode_"+a,value:t,onChange:e.updateMode},i.a.createElement("option",{value:"select"},"Select a mode"),i.a.createElement("option",{value:"delete"},"Delete this mode"),i.a.createElement("option",{value:"UNKNOWN_COOKING_MODE"},"UNKNOWN_COOKING_MODE"),i.a.createElement("option",{value:"BAKE"},"BAKE"),i.a.createElement("option",{value:"BEAT"},"BEAT"),i.a.createElement("option",{value:"BLEND"},"BLEND"),i.a.createElement("option",{value:"BOIL"},"BOIL"),i.a.createElement("option",{value:"BREW"},"BREW"),i.a.createElement("option",{value:"BROIL"},"BROIL"),i.a.createElement("option",{value:"CONVECTION_BAKE"},"CONVECTION_BAKE"),i.a.createElement("option",{value:"COOK"},"COOK"),i.a.createElement("option",{value:"DEFROST"},"DEFROST"),i.a.createElement("option",{value:"DEHYDRATE"},"DEHYDRATE"),i.a.createElement("option",{value:"FERMENT"},"FERMENT"),i.a.createElement("option",{value:"FRY"},"FRY"),i.a.createElement("option",{value:"KNEAD"},"KNEAD"),i.a.createElement("option",{value:"MICROWAVE"},"MICROWAVE"),i.a.createElement("option",{value:"PRESSURE_COOK"},"PRESSURE_COOK"),i.a.createElement("option",{value:"PUREE"},"PUREE"),i.a.createElement("option",{value:"ROAST"},"ROAST"),i.a.createElement("option",{value:"SAUTE"},"SAUTE"),i.a.createElement("option",{value:"SLOW_COOK"},"SLOW_COOK"),i.a.createElement("option",{value:"SOUS_VIDE"},"SOUS_VIDE"),i.a.createElement("option",{value:"STEAM"},"STEAM"),i.a.createElement("option",{value:"STEW"},"STEW"),i.a.createElement("option",{value:"WARM"},"WARM"),i.a.createElement("option",{value:"WHIP"},"WHIP"))))))})),n=this.props.attributes.foodPresets.map((function(a,n){return i.a.createElement("div",{key:n},i.a.createElement("div",{className:"two_table_row"},i.a.createElement("div",{className:"two_table_cel"}),i.a.createElement("div",{className:"two_table_cel"},i.a.createElement("label",null,i.a.createElement("span",null,"Language: "),i.a.createElement("select",{name:"type",id:"lang_"+n,value:a.food_synonyms[0].lang,onChange:e.updatePreset},i.a.createElement("option",{value:"es"},"es"),i.a.createElement("option",{value:"en"},"en"))),i.a.createElement("label",{style:t},i.a.createElement("span",null,"Preset name: "),i.a.createElement("input",{type:"text",id:"names_"+n,defaultValue:a.food_synonyms[0].synonym,placeholder:"Preset name",onChange:e.updatePreset})),i.a.createElement("label",null,i.a.createElement("span",null,"Units: "),i.a.createElement("select",{name:"type",id:"units_"+n,value:a.supported_units[0],onChange:e.updatePreset},i.a.createElement("option",{value:"NO_UNITS"},"No units"),i.a.createElement("option",{value:"UNKNOWN_UNITS"},"Unkown"),i.a.createElement("option",{value:"CENTIMETERS"},"Centimeters"),i.a.createElement("option",{value:"CUPS"},"Cups"),i.a.createElement("option",{value:"DECILITERS"},"Deciliters"),i.a.createElement("option",{value:"FEET"},"Feet"),i.a.createElement("option",{value:"FLUID_OUNCES"},"Fluid ounces"),i.a.createElement("option",{value:"GALLONS"},"Gallons"),i.a.createElement("option",{value:"GRAMS"},"Grams"),i.a.createElement("option",{value:"INCHES"},"Inches"),i.a.createElement("option",{value:"KILOGRAMS"},"Kilograms"),i.a.createElement("option",{value:"LITERS"},"Liters"),i.a.createElement("option",{value:"METERS"},"Meters"),i.a.createElement("option",{value:"MILLIGRAMS"},"Miligrams"),i.a.createElement("option",{value:"MILLILITERS"},"Mililiters"),i.a.createElement("option",{value:"MILLIMETERS"},"Milimeters"),i.a.createElement("option",{value:"OUNCES"},"Ounces"),i.a.createElement("option",{value:"PINCH"},"Pinch"),i.a.createElement("option",{value:"PINTS"},"Pints"),i.a.createElement("option",{value:"PORTION"},"Portion"),i.a.createElement("option",{value:"POUNDS"},"Pounds"),i.a.createElement("option",{value:"QUARTS"},"Quarts"),i.a.createElement("option",{value:"TABLESPOONS"},"Tablespoons"),i.a.createElement("option",{value:"TEASPOONS"},"Teaspoons"))))))}));return i.a.createElement("div",null,i.a.createElement("div",{className:"three_table_row"},i.a.createElement("div",{className:"three_table_cel"}),i.a.createElement("div",{className:"three_table_cel"},"Add a cooking mode ",i.a.createElement("button",{type:"button",className:"add_attribute_button",onClick:this.addMode},"Add"))),a,i.a.createElement("div",{className:"three_table_row"},i.a.createElement("div",{className:"three_table_cel"}),i.a.createElement("div",{className:"three_table_cel"},"Add a preset ",i.a.createElement("button",{type:"button",className:"add_attribute_button",onClick:this.addPreset},"Add"))),n)}}]),a}(i.a.Component),Te=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).update=n.update.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"update",value:function(e){var t=e.target.value,a={name:t};switch(t){case"AirQuality":a.descriptiveCapabilities={availableStates:["fair","good","healthy","moderate","poor","severe","unhealthy","unhealthy for sensitive groups","very poor","very unhealthy","unknown"]},a.numericCapabilities={rawValueUnit:"AQI"};break;case"CarbonDioxideLevel":a.descriptiveCapabilities={numericCapabilities:{rawValueUnit:"PARTS_PER_MILLION"}};break;case"CarbonMonoxideLevel":a.descriptiveCapabilities={availableStates:["carbon monoxide detected","high","no carbon monoxide detected","unknown"]},a.numericCapabilities={rawValueUnit:"PARTS_PER_MILLION"};break;case"FilterCleanliness":a.descriptiveCapabilities={availableStates:["clean","dirty","needs replacement","unknown"]};break;case"FilterLifeTime":a.descriptiveCapabilities={availableStates:["good","new","replace soon","replace now","unknown"]},a.numericCapabilities={rawValueUnit:"PERCENTAGE"};break;case"HEPAFilterLifeTime":case"Max2FilterLifeTime":a.numericCapabilities={rawValueUnit:"PERCENTAGE"};break;case"PM2.5":case"PM10":a.numericCapabilities={rawValueUnit:"MICROGRAMS_PER_CUBIC_METER"};break;case"PreFilterLifeTime":a.numericCapabilities={rawValueUnit:"PERCENTAGE"};break;case"SmokeLevel":a.descriptiveCapabilities={availableStates:["smoke detected","high","no smoke detected","unknown"]},a.numericCapabilities={rawValueUnit:"PARTS_PER_MILLION"};break;case"WaterLeak":a.descriptiveCapabilities={availableStates:["leak","no leak","unknown"]};break;case"RainDetection":a.descriptiveCapabilities={availableStates:["rain detected","no rain detected","unknown"]};break;case"VolatileOrganicCompounds":a.numericCapabilities={rawValueUnit:"PARTS_PER_MILLION"}}var n=[];n.push(a),this.props.update("attributes/"+e.target.id,n)}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{className:"three_table_row"},i.a.createElement("div",{className:"three_table_cel"}),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("select",{name:"type",id:"sensorStatesSupported",className:"table_input",value:this.props.attributes.sensorStatesSupported[0].name,onChange:this.update},i.a.createElement("option",{value:""},"Select"),i.a.createElement("option",{value:"AirQuality"},"Air Quality"),i.a.createElement("option",{value:"CarbonDioxideLevel"},"Carbon Dioxide Level"),i.a.createElement("option",{value:"CarbonMonoxideLevel"},"Carbon Monoxide Level"),i.a.createElement("option",{value:"FilterCleanliness"},"Filter Clean liness"),i.a.createElement("option",{value:"FilterLifeTime"},"Filter Life Time"),i.a.createElement("option",{value:"HEPAFilterLifeTime"},"HEPA Filter Life Time"),i.a.createElement("option",{value:"Max2FilterLifeTime"},"Max2 Filter Life Time"),i.a.createElement("option",{value:"PM2.5"},"PM2.5"),i.a.createElement("option",{value:"PM10"},"PM10"),i.a.createElement("option",{value:"PreFilterLifeTime"},"PreFilter Life Time"),i.a.createElement("option",{value:"SmokeLevel"},"Smoke Level"),i.a.createElement("option",{value:"WaterLeak"},"Water Leak"),i.a.createElement("option",{value:"RainDetection"},"Rain Detection"),i.a.createElement("option",{value:"VolatileOrganicCompounds"},"Volatile Organic Compounds"))),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("span",{className:"attribute_advise"}))))}}]),a}(i.a.Component),Se=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;Object(l.a)(this,a),n=t.call(this,e);var i=window.location.pathname.split("/")[3],s=!1;return""===i&&(s=!0),n.state={id:i,create:s,device:{attributes:{},deviceInfo:{},id:"",name:{defaultNames:[],nicknames:[],name:""},traits:[],type:""},status:{online:!0},posible_traits:[],save_status:""},n.updateNames=n.updateNames.bind(Object(o.a)(n)),n.update=n.update.bind(Object(o.a)(n)),n.updateId=n.updateId.bind(Object(o.a)(n)),n.updateType=n.updateType.bind(Object(o.a)(n)),n.updateTraits=n.updateTraits.bind(Object(o.a)(n)),n.save=n.save.bind(Object(o.a)(n)),n.delete=n.delete.bind(Object(o.a)(n)),n.renderAttrinutes=n.renderAttrinutes.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){if(!this.state.create){var e=new XMLHttpRequest;e.onload=function(t){if(4===e.readyState)if(200===e.status){var a=JSON.parse(e.responseText);this.setState({device:a,posible_traits:b.devices[a.type].traits})}else console.error(e.statusText)}.bind(this),e.open("GET",h+"api/devices/get/"+this.state.id+"/"),e.setRequestHeader("authorization","baerer "+v("token")),e.send()}}},{key:"updateNames",value:function(e,t){var a=t.split(","),n=this.state.device;n.name={defaultNames:a,nicknames:a,name:a[0]},this.setState({device:n})}},{key:"update",value:function(e,t){var a=this.state.device,n=e.split("/");1===n.length?a[e]=t:2===n.length?a[n[0]][n[1]]=t:3===n.length&&(a[n[0]][n[1]][n[2]]=t),this.setState({device:a})}},{key:"updateId",value:function(e){this.update("id",e.target.value)}},{key:"updateType",value:function(e){this.update("type",e.target.value),this.setState({posible_traits:b.devices[e.target.value].traits})}},{key:"updateTraits",value:function(e){var t=this.state.device,a=this.state.status;if(e.target.checked){if(!1===this.state.device.traits.includes(e.target.id)){t.traits.push(e.target.id);var n=b.traits[e.target.id].attributes;Object.keys(n).forEach((function(e,a){t.attributes[e]=n[e].default}));var i=b.traits[e.target.id].param;Object.keys(i).forEach((function(e,t){a[e]=i[e].default}))}}else!0===this.state.device.traits.includes(e.target.id)&&(t.traits=t.traits.filter((function(t,a,n){return t!==e.target.id})));this.setState({device:t})}},{key:"save",value:function(){var e=new XMLHttpRequest;e.onload=function(t){4===e.readyState&&(200===e.status?(JSON.parse(e.responseText),this.setState({save_status:"Saved correctly."})):(console.error(e.statusText),this.setState({save_status:"Error, the changes haven't been saved."})),setTimeout(function(){this.setState({save_status:""})}.bind(this),5e3))}.bind(this);var t={device:this.state.device};this.state.create?(e.open("POST",h+"api/devices/create/"),t.status=this.state.status):e.open("POST",h+"api/devices/update/"),e.setRequestHeader("Content-Type","application/json;charset=UTF-8"),e.setRequestHeader("authorization","baerer "+v("token")),e.send(JSON.stringify(t))}},{key:"delete",value:function(){if(window.confirm("Do you want to delete the device?")){var e=new XMLHttpRequest;e.onload=function(t){4===e.readyState&&(200===e.status?window.location.href="/devices/":(console.error(e.statusText),this.setState({save_status:"Error, the device hasn't been deleted."})),setTimeout(function(){this.setState({save_status:""})}.bind(this),5e3))}.bind(this),e.open("GET",h+"api/devices/delete/"+this.state.device.id+"/"),e.setRequestHeader("authorization","baerer "+v("token")),e.send()}else this.setState({save_status:"Ok. The device is save."})}},{key:"renderAttrinutes",value:function(e){if(this.state.device.traits.includes(e)){if("action.devices.traits.Scene"===e)return i.a.createElement(me,{sceneReversible:this.state.device.attributes.sceneReversible,update:this.update});if("action.devices.traits.OnOff"===e)return i.a.createElement(ue,{attributes:this.state.device.attributes,update:this.update});if("action.devices.traits.Brightness"===e)return i.a.createElement(pe,{commandOnlyBrightness:this.state.device.attributes.commandOnlyBrightness,update:this.update});if("action.devices.traits.ColorSetting"===e)return i.a.createElement(he,{attributes:this.state.device.attributes,update:this.update});if("action.devices.traits.FanSpeed"===e)return i.a.createElement(ve,{attributes:this.state.device.attributes,update:this.update});if("action.devices.traits.TemperatureSetting"===e)return i.a.createElement(be,{attributes:this.state.device.attributes,update:this.update});if("action.devices.traits.Toggles"===e)return i.a.createElement(Ee,{attributes:this.state.device.attributes,update:this.update});if("action.devices.traits.Modes"===e)return i.a.createElement(ge,{attributes:this.state.device.attributes,update:this.update});if("action.devices.traits.HumiditySetting"===e)return i.a.createElement(_e,{attributes:this.state.device.attributes,update:this.update});if("action.devices.traits.OpenClose"===e)return i.a.createElement(ye,{attributes:this.state.device.attributes,update:this.update});if("action.devices.traits.Rotation"===e)return i.a.createElement(fe,{attributes:this.state.device.attributes,update:this.update});if("action.devices.traits.Fill"===e)return i.a.createElement(Ne,{attributes:this.state.device.attributes,update:this.update});if("action.devices.traits.ArmDisarm"===e)return i.a.createElement(Oe,{attributes:this.state.device.attributes,update:this.update});if("action.devices.traits.StartStop"===e)return i.a.createElement(ke,{attributes:this.state.device.attributes,update:this.update});if("action.devices.traits.Timer"===e)return i.a.createElement(we,{attributes:this.state.device.attributes,update:this.update});if("action.devices.traits.TemperatureControl"===e)return i.a.createElement(Ce,{attributes:this.state.device.attributes,update:this.update});if("action.devices.traits.Cook"===e)return i.a.createElement(xe,{attributes:this.state.device.attributes,update:this.update});if("action.devices.traits.SensorState"===e)return i.a.createElement(Te,{attributes:this.state.device.attributes,update:this.update})}}},{key:"render",value:function(){var e=this,t=Object.keys(b.devices).map((function(e){return i.a.createElement("option",{key:e,value:e},b.devices[e].name)})),a=this.state.device.name.nicknames.map((function(e){return e})),n=this.state.posible_traits.map((function(t){return i.a.createElement("div",{key:t},i.a.createElement("hr",{className:"separator"}),i.a.createElement("div",{className:"three_table_row"},i.a.createElement("div",{className:"three_table_cel"},b.traits[t].name),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("label",null,i.a.createElement("input",{type:"checkbox",id:t,defaultChecked:e.state.device.traits.includes(t),onChange:e.updateTraits}))),i.a.createElement("div",{className:"three_table_cel"},"Read Google's ",i.a.createElement("a",{href:"https://developers.google.com/assistant/smarthome/traits/"+t.split(".")[3].toLowerCase(),target:"blanck"},"documentation"))),e.renderAttrinutes(t))}));return i.a.createElement("div",null,i.a.createElement("div",{className:"page_block_container"},i.a.createElement("h2",null,"Global settings"),i.a.createElement("div",{className:"advise"},i.a.createElement("span",null,"General settings of the device."),i.a.createElement("hr",null)),i.a.createElement("div",{className:"two_table_row"},i.a.createElement("div",{className:"two_table_cel"},"Device ID*"),i.a.createElement("div",{className:"two_table_cel"},i.a.createElement("input",{type:"text",className:"two_input",id:"id",defaultValue:this.state.device.id,onChange:this.updateId,disabled:!this.state.create}))),i.a.createElement("div",{className:"two_table_row"},i.a.createElement("div",{className:"two_table_cel"},"Device Type*"),i.a.createElement("div",{className:"two_table_cel"},i.a.createElement("select",{name:"type",className:"two_input",id:"type",value:this.state.device.type,onChange:this.updateType,disabled:!this.state.create},i.a.createElement("option",{value:"default"},"Select a device"),t))),i.a.createElement(de,{name:"Nick names*",data:"nicknames",value:a,update:this.updateNames}),i.a.createElement(de,{name:"Hardware version",data:"deviceInfo/hwVersion",value:this.state.device.deviceInfo?this.state.device.deviceInfo.hwVersion:"",update:this.update}),i.a.createElement(de,{name:"Software version",data:"deviceInfo/swVersion",value:this.state.device.deviceInfo?this.state.device.deviceInfo.swVersion:"",update:this.update}),i.a.createElement(de,{name:"Manufacturer",data:"deviceInfo/manufacturer",value:this.state.device.deviceInfo?this.state.device.deviceInfo.manufacturer:"",update:this.update}),i.a.createElement(de,{name:"Model",data:"deviceInfo/model",value:this.state.device.deviceInfo?this.state.device.deviceInfo.model:"",update:this.update}),i.a.createElement("div",{className:"advise"},i.a.createElement("span",null,"Nick names must be separeted by ",i.a.createElement("i",null,",")," commas."),i.a.createElement("br",null),i.a.createElement("span",null,"* data is required.")),i.a.createElement("hr",null),i.a.createElement("h2",null,"Traits"),i.a.createElement("div",{className:"advise"},i.a.createElement("span",null,"The traits define what the device can do.")),n,i.a.createElement("hr",null),i.a.createElement("div",{className:"two_table_cel"},i.a.createElement("button",{type:"button",style:this.state.create?{backgroundColor:"red",opacity:"0.2"}:{backgroundColor:"red"},onClick:this.delete,disabled:!!this.state.create},"Delete"),i.a.createElement("button",{type:"button",onClick:this.save},"Save"),i.a.createElement("span",null,this.state.save_status))))}}]),a}(i.a.Component),je=a(27),Re=a.n(je),Le=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;Object(l.a)(this,a),n=t.call(this,e);var i=window.location.pathname.split("/")[3];return n.state={id:i,device:{attributes:{},deviceInfo:{},id:"",name:{defaultnames:[],nicknames:[],name:""},traits:[],type:""},status:{online:!0}},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=new XMLHttpRequest;e.onload=function(t){if(4===e.readyState)if(200===e.status){var a=JSON.parse(e.responseText);this.setState({device:a})}else console.error(e.statusText)}.bind(this),e.open("GET",h+"api/devices/get/"+this.state.id+"/"),e.setRequestHeader("authorization","baerer "+v("token")),e.send();var t=new XMLHttpRequest;t.onload=function(e){if(4===t.readyState)if(200===t.status){var a=JSON.parse(t.responseText);this.setState({status:a})}else console.error(t.statusText)}.bind(this),t.open("GET",h+"api/status/get/"+this.state.id+"/"),t.setRequestHeader("authorization","baerer "+v("token")),t.send()}},{key:"render",value:function(){var e={textAlign:"left"};return i.a.createElement("div",null,i.a.createElement("div",{className:"page_block_container"},i.a.createElement("h2",null,"Device definition"),i.a.createElement("div",{className:"advise"},i.a.createElement("span",null,"General settings of the device."),i.a.createElement("hr",null)),i.a.createElement("div",{style:e},i.a.createElement(Re.a,{src:this.state.device}))),i.a.createElement("div",{className:"page_block_container"},i.a.createElement("h2",null,"Device status"),i.a.createElement("div",{className:"advise"},i.a.createElement("span",null,"Status of the device."),i.a.createElement("hr",null)),i.a.createElement("div",{style:e},i.a.createElement(Re.a,{src:this.state.status}))))}}]),a}(i.a.Component),Ae=(a(51),function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={devices:[],tasks:[]},n.loadData=n.loadData.bind(Object(o.a)(n)),n.openManager=n.openManager.bind(Object(o.a)(n)),n.newTask=n.newTask.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"loadData",value:function(){var e=new XMLHttpRequest;e.onload=function(t){if(4===e.readyState)if(200===e.status){var a=JSON.parse(e.responseText);this.setState({devices:a.devices,tasks:a.tasks})}else console.error(e.statusText)}.bind(this),e.open("GET",h+"api/global/get/"),e.setRequestHeader("authorization","baerer "+v("token")),e.send()}},{key:"openManager",value:function(e){window.location.href="/tasks/manager/"+e.target.id.split("_")[1]}},{key:"newTask",value:function(){window.location.href="/tasks/manager/"}},{key:"render",value:function(){var e=this,t=this.state.tasks.map((function(t,a){return i.a.createElement("div",{key:a,className:"task_card"},i.a.createElement("h2",{className:"task_card_title",id:"task_"+a,onClick:e.openManager},t.title),i.a.createElement("hr",{className:"task_card_divider"}),i.a.createElement("p",null,t.description))}));return i.a.createElement("div",null,i.a.createElement("div",{className:"page_title_container"},i.a.createElement("h2",null,"Tasks")),i.a.createElement("div",{className:"page_cards_container"},t),i.a.createElement("div",{className:"page_buttons_containter"},i.a.createElement("button",{type:"button",onClick:this.newTask},"New")))}}]),a}(i.a.Component)),Me=(a(12),function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).delete=n.delete.bind(Object(o.a)(n)),n.addOr=n.addOr.bind(Object(o.a)(n)),n.addAnd=n.addAnd.bind(Object(o.a)(n)),n.openTriggerAssistant=n.openTriggerAssistant.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"delete",value:function(){this.props.delete(this.props.id)}},{key:"addOr",value:function(){this.props.addTriggerLogic("or",this.props.id)}},{key:"addAnd",value:function(){this.props.addTriggerLogic("and",this.props.id)}},{key:"openTriggerAssistant",value:function(){this.props.openTriggerAssistant(this.props.id)}},{key:"render",value:function(){var e=this,t=this.props.triggers[this.props.id].operation.length-1,a=this.props.triggers[this.props.id].operation.map((function(a,n){return i.a.createElement("div",{key:a+n},i.a.createElement(Ie,{id:a,triggers:e.props.triggers,devices:e.props.devices,delete:e.props.delete,addTriggerLogic:e.props.addTriggerLogic,openTriggerAssistant:e.props.openTriggerAssistant}),n<t?i.a.createElement("h2",{className:"trigger_logic_title"},e.props.triggers[e.props.id].type):"")}));return i.a.createElement("div",{className:"trigger_logic_container"},a,i.a.createElement("div",{className:"trigger_logic_buttons_container"},i.a.createElement("button",{type:"button",className:"trigger_logic_button",onClick:this.addOr},"Or"),i.a.createElement("button",{type:"button",className:"trigger_logic_button",onClick:this.addAnd},"And"),i.a.createElement("button",{type:"button",className:"trigger_logic_button",onClick:this.openTriggerAssistant},"Trigger"),i.a.createElement("button",{type:"button",className:"trigger_logic_button red_button",onClick:this.delete},"Delete")))}}]),a}(i.a.Component)),De=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).delete=n.delete.bind(Object(o.a)(n)),n.renderTriggerText=n.renderTriggerText.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"delete",value:function(){this.props.delete(this.props.id)}},{key:"renderTriggerText",value:function(){var e=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],t=this.props.triggers[this.props.id].type,a=this.props.triggers[this.props.id].operation.split(":");if(["d2b","d2i","d2l","d2s"].includes(t))return this.props.devices[a[0]]+" ("+(b.params[a[1]]?b.params[a[1]].name:a[1])+") "+a[2]+" "+a[3];if("d2d"===t)return this.props.devices[a[0]]+" ("+(b.params[a[1]]?b.params[a[1]].name:a[1])+") "+a[2]+" "+this.props.devices[a[3]]+" ("+(b.params[a[4]].name?b.params[a[4]].name:a[4])+") ";if("d2c"===t)return this.props.devices[a[0]]+" ("+(b.params[a[1]]?b.params[a[1]].name:a[1])+") "+a[2]+" "+a[3];if("time"===t){for(var n="",i=0;i<a[2].length;i++)n+=e[a[2][i]],i!==a[2].length-1&&(n+=", ");return a[0]+":"+a[1]+" on "+n}return this.props.triggers[this.props.id].operation}},{key:"render",value:function(){return i.a.createElement("div",{className:"trigger_device_container"},i.a.createElement("span",null,this.renderTriggerText()),i.a.createElement("img",{src:"/global/bin_icon.png",alt:"Delete icon",className:"trigger_delete",onClick:this.delete}))}}]),a}(i.a.Component),Ie=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).addOr=n.addOr.bind(Object(o.a)(n)),n.addAnd=n.addAnd.bind(Object(o.a)(n)),n.openTriggerAssistant=n.openTriggerAssistant.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"addOr",value:function(){this.props.addTriggerLogic("or","triggers")}},{key:"addAnd",value:function(){this.props.addTriggerLogic("and","triggers")}},{key:"openTriggerAssistant",value:function(){this.props.openTriggerAssistant("triggers")}},{key:"render",value:function(){if(!this.props.triggers.trigger)return i.a.createElement("div",null,i.a.createElement("button",{type:"button",className:"trigger_logic_button",onClick:this.addOr},"Or"),i.a.createElement("button",{type:"button",className:"trigger_logic_button",onClick:this.addAnd},"And"),i.a.createElement("button",{type:"button",className:"trigger_logic_button",onClick:this.openTriggerAssistant},"Trigger"));var e=this.props.triggers[this.props.id];return"or"===e.type||"and"===e.type?i.a.createElement(Me,{id:this.props.id,triggers:this.props.triggers,devices:this.props.devices,delete:this.props.delete,addTriggerLogic:this.props.addTriggerLogic,openTriggerAssistant:this.props.openTriggerAssistant}):["d2b","d2d","d2i","d2l","time","d2c"].includes(e.type)?i.a.createElement(De,{id:this.props.id,triggers:this.props.triggers,devices:this.props.devices,delete:this.props.delete}):void 0}}]),a}(i.a.Component),He=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).addTriggerOperation=n.addTriggerOperation.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"addTriggerOperation",value:function(){var e=document.getElementById("hour").value,t=document.getElementById("minute").value,a="";document.getElementById("monday").checked&&(a+="1"),document.getElementById("tuesday").checked&&(a+="2"),document.getElementById("wednesday").checked&&(a+="3"),document.getElementById("thursday").checked&&(a+="4"),document.getElementById("friday").checked&&(a+="5"),document.getElementById("saturday").checked&&(a+="6"),document.getElementById("sunday").checked&&(a+="0");var n=e+":"+t+":"+a;this.props.addTriggerOperation("time",n),this.props.closeTriggerAssistant()}},{key:"render",value:function(){return i.a.createElement("div",{className:"trigger_assistant_container"},i.a.createElement("h2",{className:"trigger_assistant_title"},"Triggered by time"),i.a.createElement("div",{className:"three_table_row"},i.a.createElement("div",{className:"three_table_cel"},"Hour*"),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("input",{type:"number",className:"",id:"hour",min:"0",max:"23"})),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("span",{className:"advise"},"24h format"))),i.a.createElement("div",{className:"three_table_row"},i.a.createElement("div",{className:"three_table_cel"},"Minute*"),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("input",{type:"number",className:"",id:"minute",min:"0",max:"59"})),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("span",{className:"advise"}))),i.a.createElement("div",{className:"three_table_row"},i.a.createElement("div",{className:"three_table_cel"},"Week*"),i.a.createElement("div",{className:"three_table_cel"},"Sunday"),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("input",{type:"checkbox",id:"sunday"}))),i.a.createElement("div",{className:"three_table_row"},i.a.createElement("div",{className:"three_table_cel"}),i.a.createElement("div",{className:"three_table_cel"},"Monday"),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("input",{type:"checkbox",id:"monday"}))),i.a.createElement("div",{className:"three_table_row"},i.a.createElement("div",{className:"three_table_cel"}),i.a.createElement("div",{className:"three_table_cel"},"Tuesday"),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("input",{type:"checkbox",id:"tuesday"}))),i.a.createElement("div",{className:"three_table_row"},i.a.createElement("div",{className:"three_table_cel"}),i.a.createElement("div",{className:"three_table_cel"},"Wednesday"),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("input",{type:"checkbox",id:"wednesday"}))),i.a.createElement("div",{className:"three_table_row"},i.a.createElement("div",{className:"three_table_cel"}),i.a.createElement("div",{className:"three_table_cel"},"Thursday"),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("input",{type:"checkbox",id:"thursday"}))),i.a.createElement("div",{className:"three_table_row"},i.a.createElement("div",{className:"three_table_cel"}),i.a.createElement("div",{className:"three_table_cel"},"Friday"),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("input",{type:"checkbox",id:"friday"}))),i.a.createElement("div",{className:"three_table_row"},i.a.createElement("div",{className:"three_table_cel"}),i.a.createElement("div",{className:"three_table_cel"},"Saturday"),i.a.createElement("div",{className:"three_table_cel"},i.a.createElement("input",{type:"checkbox",id:"saturday"}))),i.a.createElement("div",{className:"trigger_assisstant_buttons_container"},i.a.createElement("button",{type:"button",className:"trigger_assistant_button",onClick:this.addTriggerOperation},"Save"),i.a.createElement("button",{type:"button",className:"trigger_assistant_button red_button",onClick:this.props.closeTriggerAssistant},"Cancel")))}}]),a}(i.a.Component),Pe=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={device:""},n.updateDevice=n.updateDevice.bind(Object(o.a)(n)),n.updateParam=n.updateParam.bind(Object(o.a)(n)),n.addTriggerOperation=n.addTriggerOperation.bind(Object(o.a)(n)),n.typeConversion=n.typeConversion.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"updateDevice",value:function(e){this.setState({device:e.target.value})}},{key:"updateParam",value:function(e){this.setState({param:e.target.value})}},{key:"addTriggerOperation",value:function(){var e=document.getElementById("device").value+":"+document.getElementById("param").value+":"+document.getElementById("comparator").value+":"+document.getElementById("value").value;this.props.addTriggerOperation(this.typeConversion(b.params[this.state.param].type),e),this.props.closeTriggerAssistant()}},{key:"typeConversion",value:function(e){return{int:"d2i",list:"d2l",bool:"d2b",string:"d2s",color:"d2c"}[e]}},{key:"render",value:function(){var e=this,t=Object.keys(this.props.devices).map((function(t){return i.a.createElement("option",{key:t,value:t},e.props.devices[t])})),a=""===this.state.device?"":Object.keys(this.props.status[this.state.device]).map((function(e){return i.a.createElement("option",{key:e,value:e},b.params[e]?b.params[e].name:e+" - Not supported yet")})),n="";if(b.params[this.state.param]){var s=this.typeConversion(b.params[this.state.param].type);if("d2i"===s)n=i.a.createElement("div",{className:"two_table_row"},i.a.createElement("div",{className:"two_table_cel"},"Value*"),i.a.createElement("div",{className:"two_table_cel"},i.a.createElement("input",{type:"number",className:"",id:"value"})));else if("d2s"===s)n=i.a.createElement("div",{className:"two_table_row"},i.a.createElement("div",{className:"two_table_cel"},"Value*"),i.a.createElement("div",{className:"two_table_cel"},i.a.createElement("input",{type:"text",className:"",id:"value"})));else if("d2b"===s||"d2l"===s){var r=b.params[this.state.param].select.map((function(e){return i.a.createElement("option",{key:e,value:e},e)}));n=i.a.createElement("div",{className:"two_table_row"},i.a.createElement("div",{className:"two_table_cel"},"Value*"),i.a.createElement("div",{className:"two_table_cel"},i.a.createElement("select",{name:"type",className:"two_input",id:"value"},r)))}}return i.a.createElement("div",{className:"trigger_assistant_container"},i.a.createElement("h2",{className:"trigger_assistant_title"},"Triggered by a device"),i.a.createElement("div",{className:"two_table_row"},i.a.createElement("div",{className:"two_table_cel"},"Device*"),i.a.createElement("div",{className:"two_table_cel"},i.a.createElement("select",{name:"type",className:"two_input",id:"device",onChange:this.updateDevice},i.a.createElement("option",{value:""},"Select a device"),t))),i.a.createElement("div",{className:"two_table_row"},i.a.createElement("div",{className:"two_table_cel"},"Param*"),i.a.createElement("div",{className:"two_table_cel"},i.a.createElement("select",{name:"type",className:"two_input",id:"param",onChange:this.updateParam},i.a.createElement("option",{value:""},"Select a param"),a))),i.a.createElement("div",{className:"two_table_row"},i.a.createElement("div",{className:"two_table_cel"},"Comparator*"),i.a.createElement("div",{className:"two_table_cel"},i.a.createElement("select",{name:"type",className:"two_input",id:"comparator"},i.a.createElement("option",null,"="),i.a.createElement("option",null,"<"),i.a.createElement("option",null,">"),i.a.createElement("option",null,"<="),i.a.createElement("option",null,">=")))),n,i.a.createElement("div",{className:"trigger_assisstant_buttons_container"},i.a.createElement("button",{type:"button",className:"trigger_assistant_button",onClick:this.addTriggerOperation},"Save"),i.a.createElement("button",{type:"button",className:"trigger_assistant_button red_button",onClick:this.props.closeTriggerAssistant},"Cancel")))}}]),a}(i.a.Component),Fe=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={device_a:"",device_b:""},n.updateDependencies=n.updateDependencies.bind(Object(o.a)(n)),n.addTriggerOperation=n.addTriggerOperation.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"updateDependencies",value:function(e){var t=this.state;t[e.target.id]=e.target.value,this.setState(t)}},{key:"addTriggerOperation",value:function(){var e=document.getElementById("device_a").value+":"+document.getElementById("param_a").value+":"+document.getElementById("comparator").value+":"+document.getElementById("device_b").value+":"+document.getElementById("param_b").value;this.props.addTriggerOperation("d2d",e),this.props.closeTriggerAssistant()}},{key:"render",value:function(){var e=this,t=Object.keys(this.props.devices).map((function(t){return i.a.createElement("option",{key:t,value:t},e.props.devices[t])})),a=""===this.state.device_a?"":Object.keys(this.props.status[this.state.device_a]).map((function(e){return i.a.createElement("option",{key:e,value:e},b.params[e]?b.params[e].name:e+" - Not supported yet")})),n=""===this.state.device_b?"":Object.keys(this.props.status[this.state.device_b]).map((function(e){return i.a.createElement("option",{key:e,value:e},b.params[e]?b.params[e].name:e+" - Not supported yet")}));return i.a.createElement("div",{className:"trigger_assistant_container"},i.a.createElement("h2",{className:"trigger_assistant_title"},"Compare two devices"),i.a.createElement("div",{className:"two_table_row"},i.a.createElement("div",{className:"two_table_cel"},"Device A*"),i.a.createElement("div",{className:"two_table_cel"},i.a.createElement("select",{name:"type",className:"two_input",id:"device_a",onChange:this.updateDependencies},i.a.createElement("option",{value:""},"Select a device"),t))),i.a.createElement("div",{className:"two_table_row"},i.a.createElement("div",{className:"two_table_cel"},"Param A*"),i.a.createElement("div",{className:"two_table_cel"},i.a.createElement("select",{name:"type",className:"two_input",id:"param_a",onChange:this.updateDependencies},i.a.createElement("option",{value:""},"Select a param"),a))),i.a.createElement("div",{className:"two_table_row"},i.a.createElement("div",{className:"two_table_cel"},"Comparator*"),i.a.createElement("div",{className:"two_table_cel"},i.a.createElement("select",{name:"type",className:"two_input",id:"comparator"},i.a.createElement("option",null,"="),i.a.createElement("option",null,"<"),i.a.createElement("option",null,">"),i.a.createElement("option",null,"<="),i.a.createElement("option",null,">=")))),i.a.createElement("div",{className:"two_table_row"},i.a.createElement("div",{className:"two_table_cel"},"Device B*"),i.a.createElement("div",{className:"two_table_cel"},i.a.createElement("select",{name:"type",className:"two_input",id:"device_b",onChange:this.updateDependencies},i.a.createElement("option",{value:""},"Select a device"),t))),i.a.createElement("div",{className:"two_table_row"},i.a.createElement("div",{className:"two_table_cel"},"Param B*"),i.a.createElement("div",{className:"two_table_cel"},i.a.createElement("select",{name:"type",className:"two_input",id:"param_b",onChange:this.updateDependencies},i.a.createElement("option",{value:""},"Select a param"),n))),i.a.createElement("div",{className:"trigger_assisstant_buttons_container"},i.a.createElement("button",{type:"button",className:"trigger_assistant_button",onClick:this.addTriggerOperation},"Save"),i.a.createElement("button",{type:"button",className:"trigger_assistant_button red_button",onClick:this.props.closeTriggerAssistant},"Cancel")))}}]),a}(i.a.Component),qe=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={type:""},n.timeTigger=n.timeTigger.bind(Object(o.a)(n)),n.deiceTrigger=n.deiceTrigger.bind(Object(o.a)(n)),n.deviceToDeviceTrigger=n.deviceToDeviceTrigger.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"timeTigger",value:function(){this.setState({type:"time"})}},{key:"deiceTrigger",value:function(){this.setState({type:"device"})}},{key:"deviceToDeviceTrigger",value:function(){this.setState({type:"device2device"})}},{key:"render",value:function(){return""===this.state.type?i.a.createElement("div",{className:"trigger_assistant_container"},i.a.createElement("h2",{className:"trigger_assistant_title"},"Add a new trigger"),i.a.createElement("div",{className:"trigger_assisstant_buttons_container"},i.a.createElement("button",{type:"button",className:"trigger_assistant_button",onClick:this.timeTigger},"Time"),i.a.createElement("button",{type:"button",className:"trigger_assistant_button",onClick:this.deiceTrigger},"Device"),i.a.createElement("button",{type:"button",className:"trigger_assistant_button",onClick:this.deviceToDeviceTrigger},"Device to device"),i.a.createElement("button",{type:"button",className:"trigger_assistant_button red_button",onClick:this.props.closeTriggerAssistant},"Cancel"))):"time"===this.state.type?i.a.createElement(He,{closeTriggerAssistant:this.props.closeTriggerAssistant,addTriggerOperation:this.props.addTriggerOperation}):"device"===this.state.type?i.a.createElement(Pe,{devices:this.props.devices,status:this.props.status,closeTriggerAssistant:this.props.closeTriggerAssistant,addTriggerOperation:this.props.addTriggerOperation}):"device2device"===this.state.type?i.a.createElement(Fe,{devices:this.props.devices,status:this.props.status,closeTriggerAssistant:this.props.closeTriggerAssistant,addTriggerOperation:this.props.addTriggerOperation}):void 0}}]),a}(i.a.Component),Ue=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).delete=n.delete.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"delete",value:function(){this.props.delete(this.props.id)}},{key:"render",value:function(){return i.a.createElement("div",{className:"trigger_device_container",style:{marginBottom:"10px"}},i.a.createElement("span",null,(this.props.devices[this.props.target.device]?this.props.devices[this.props.target.device]:this.props.target.device)+" ("+(b.params[this.props.target.param]?b.params[this.props.target.param].name:this.props.target.param)+") = "+this.props.target.value),i.a.createElement("img",{src:"/global/bin_icon.png",alt:"Delete icon",className:"trigger_delete",onClick:this.delete}))}}]),a}(i.a.Component),Ge=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={device:""},n.updateDevice=n.updateDevice.bind(Object(o.a)(n)),n.updateParam=n.updateParam.bind(Object(o.a)(n)),n.addTarget=n.addTarget.bind(Object(o.a)(n)),n.typeConversion=n.typeConversion.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"updateDevice",value:function(e){this.setState({device:e.target.value})}},{key:"updateParam",value:function(e){this.setState({param:e.target.value})}},{key:"addTarget",value:function(){var e={device:document.getElementById("device").value,param:document.getElementById("param").value,value:document.getElementById("value").value};this.props.addTarget(e),document.getElementById("device").value="",document.getElementById("param").value="",this.setState({param:""})}},{key:"typeConversion",value:function(e){return{int:"d2i",list:"d2l",bool:"d2b",string:"d2s",color:"d2c"}[e]}},{key:"render",value:function(){var e=this,t=Object.keys(this.props.devices).map((function(t){return i.a.createElement("option",{key:t,value:t},e.props.devices[t])})),a=""===this.state.device?"":Object.keys(this.props.status[this.state.device]).map((function(e){return i.a.createElement("option",{key:e,value:e},b.params[e]?b.params[e].name:e+" - Not supported yet")})),n="";if(b.params[this.state.param]){var s=this.typeConversion(b.params[this.state.param].type);if("d2i"===s)n=i.a.createElement("div",{className:"two_table_row"},i.a.createElement("div",{className:"two_table_cel"},"Value*"),i.a.createElement("div",{className:"two_table_cel"},i.a.createElement("input",{type:"number",className:"",id:"value"})));else if("d2s"===s)n=i.a.createElement("div",{className:"two_table_row"},i.a.createElement("div",{className:"two_table_cel"},"Value*"),i.a.createElement("div",{className:"two_table_cel"},i.a.createElement("input",{type:"text",className:"",id:"value"})));else if("d2b"===s||"d2l"===s){var r=b.params[this.state.param].select.map((function(e){return i.a.createElement("option",{key:e,value:e},e)}));n=i.a.createElement("div",{className:"two_table_row"},i.a.createElement("div",{className:"two_table_cel"},"Value*"),i.a.createElement("div",{className:"two_table_cel"},i.a.createElement("select",{name:"type",className:"two_input",id:"value"},r)))}}return i.a.createElement("div",{className:"trigger_assistant_container"},i.a.createElement("h2",{className:"trigger_assistant_title"},"New target"),i.a.createElement("div",{className:"two_table_row"},i.a.createElement("div",{className:"two_table_cel"},"Device*"),i.a.createElement("div",{className:"two_table_cel"},i.a.createElement("select",{name:"type",className:"two_input",id:"device",onChange:this.updateDevice},i.a.createElement("option",{value:""},"Select a device"),t))),i.a.createElement("div",{className:"two_table_row"},i.a.createElement("div",{className:"two_table_cel"},"Param*"),i.a.createElement("div",{className:"two_table_cel"},i.a.createElement("select",{name:"type",className:"two_input",id:"param",onChange:this.updateParam},i.a.createElement("option",{value:""},"Select a param"),a))),n,i.a.createElement("div",{className:"trigger_assisstant_buttons_container"},i.a.createElement("button",{type:"button",className:"trigger_assistant_button",onClick:this.addTarget},"Add")))}}]),a}(i.a.Component),Be=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;Object(l.a)(this,a),n=t.call(this,e);var i=window.location.pathname.split("/")[3],s=!1;return""===i&&(s=!0),n.state={id:i,create:s,save_status:"",trigger_assistant_parent:0,task:{title:"",description:"",triggers:{},target:[]},devices:[],status:{}},n.update=n.update.bind(Object(o.a)(n)),n.save=n.save.bind(Object(o.a)(n)),n.delete=n.delete.bind(Object(o.a)(n)),n.deleteTrigger=n.deleteTrigger.bind(Object(o.a)(n)),n.addTriggerLogic=n.addTriggerLogic.bind(Object(o.a)(n)),n.openTriggerAssistant=n.openTriggerAssistant.bind(Object(o.a)(n)),n.addTriggerOperation=n.addTriggerOperation.bind(Object(o.a)(n)),n.closeTriggerAssistant=n.closeTriggerAssistant.bind(Object(o.a)(n)),n.addTarget=n.addTarget.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=new XMLHttpRequest;if(e.onload=function(t){if(4===e.readyState)if(200===e.status){var a=JSON.parse(e.responseText),n={};a.devices.forEach((function(e){n[e.id]=e.name.name})),this.setState({devices:n,status:a.status})}else console.error(e.statusText)}.bind(this),e.open("GET",h+"api/global/get/"),e.setRequestHeader("authorization","baerer "+v("token")),e.send(),!this.state.create){var t=new XMLHttpRequest;t.onload=function(e){if(4===t.readyState)if(200===t.status){var a=JSON.parse(t.responseText);console.log(a),this.setState({task:a})}else console.error(t.statusText)}.bind(this),t.open("GET",h+"api/tasks/get/"+this.state.id+"/"),t.setRequestHeader("authorization","baerer "+v("token")),t.send()}}},{key:"update",value:function(e){var t=this.state.task;t[e.target.id]=e.target.value,this.setState({task:t})}},{key:"save",value:function(){var e=new XMLHttpRequest;e.onload=function(t){4===e.readyState&&(200===e.status?(JSON.parse(e.responseText),this.setState({save_status:"Saved correctly."})):(console.error(e.statusText),this.setState({save_status:"Error, the changes haven't been saved."})),setTimeout(function(){this.setState({save_status:""})}.bind(this),5e3))}.bind(this);var t={task:this.state.task};this.state.create?e.open("POST",h+"api/tasks/create/"):(e.open("POST",h+"api/tasks/update/"),t.id=this.state.id),e.setRequestHeader("Content-Type","application/json;charset=UTF-8"),e.setRequestHeader("authorization","baerer "+v("token")),e.send(JSON.stringify(t))}},{key:"delete",value:function(){if(window.confirm("Do you want to delete the device?")){var e=new XMLHttpRequest;e.onload=function(t){4===e.readyState&&(200===e.status?window.location.href="/tasks/":(console.error(e.statusText),this.setState({save_status:"Error, the device hasn't been deleted."})),setTimeout(function(){this.setState({save_status:""})}.bind(this),5e3))}.bind(this),e.open("GET",h+"api/tasks/delete/"+this.state.id+"/"),e.setRequestHeader("authorization","baerer "+v("token")),e.send()}else this.setState({save_status:"Ok. The device is save."})}},{key:"deleteTrigger",value:function(e){var t=this.state.task,a=t.triggers,n=a[e].parent;if("triggers"!==n){var i=a[n].operation.indexOf(e);a[n].operation.splice(i,1),delete a[e],t.triggers=a}else t.triggers={};this.setState({task:t})}},{key:"addTriggerLogic",value:function(e,t){var a=this.state.task;if("triggers"!==t){var n=Date.now();a.triggers[n]={operation:[],parent:t,type:e},a.triggers[t].operation.push(n)}else a.triggers.trigger={operation:[],parent:"triggers",type:e};this.setState({task:a})}},{key:"openTriggerAssistant",value:function(e){this.setState({trigger_assistant_parent:e})}},{key:"addTriggerOperation",value:function(e,t){var a=this.state.task,n=this.state.trigger_assistant_parent;if("triggers"!==n){var i=Date.now();a.triggers[i]={operation:t,parent:n,type:e},a.triggers[n].operation.push(i)}else a.triggers.trigger={operation:t,parent:"triggers",type:e};this.setState({task:a})}},{key:"closeTriggerAssistant",value:function(){this.setState({trigger_assistant_parent:0})}},{key:"addTarget",value:function(e){var t=this.state.task;t.target.push(e),this.setState({task:t})}},{key:"render",value:function(){var e=this,t=this.state.task.target.map((function(t,a){return i.a.createElement(Ue,{key:a,target:t,devices:e.state.devices})}));return i.a.createElement("div",null,i.a.createElement("div",{className:"page_block_container"},i.a.createElement("h2",null,"Task"),i.a.createElement("hr",{style:{width:"70%"}}),i.a.createElement("div",{className:"two_table_row"},i.a.createElement("div",{className:"two_table_cel"},"Name*"),i.a.createElement("div",{className:"two_table_cel"},i.a.createElement("input",{type:"text",className:"two_input",id:"title",defaultValue:this.state.task.title,onChange:this.update}))),i.a.createElement("div",{className:"two_table_row"},i.a.createElement("div",{className:"two_table_cel"},"Description*"),i.a.createElement("div",{className:"two_table_cel"},i.a.createElement("input",{type:"text",className:"two_input",id:"description",defaultValue:this.state.task.description,onChange:this.update}))),i.a.createElement("hr",null),i.a.createElement("h2",null,"Triggers"),i.a.createElement("div",{className:"advise"},i.a.createElement("span",null)),0!==this.state.trigger_assistant_parent?i.a.createElement(qe,{devices:this.state.devices,status:this.state.status,closeTriggerAssistant:this.closeTriggerAssistant,addTriggerOperation:this.addTriggerOperation}):i.a.createElement(Ie,{id:"trigger",triggers:this.state.task.triggers,devices:this.state.devices,delete:this.deleteTrigger,addTriggerLogic:this.addTriggerLogic,openTriggerAssistant:this.openTriggerAssistant}),i.a.createElement("hr",null),i.a.createElement("h2",null,"Targets"),i.a.createElement("div",{className:"advise"},i.a.createElement("span",null)),t,i.a.createElement(Ge,{devices:this.state.devices,status:this.state.status,addTarget:this.addTarget}),i.a.createElement("hr",null),i.a.createElement("div",{className:"two_table_cel"},i.a.createElement("button",{type:"button",style:this.state.create?{backgroundColor:"red",opacity:"0.2"}:{backgroundColor:"red"},onClick:this.delete,disabled:!!this.state.create},"Delete"),i.a.createElement("button",{type:"button",onClick:this.save},"Save"),i.a.createElement("span",null,this.state.save_status))))}}]),a}(i.a.Component),Ve=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={settings:{google:{},ddns:{},mqtt:{},apikey:""},save_status:"",url:{auth:"",token:"",fulfillment:""}},n.update=n.update.bind(Object(o.a)(n)),n.updateCheckbox=n.updateCheckbox.bind(Object(o.a)(n)),n.save=n.save.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){if(!this.state.create){var e=new XMLHttpRequest;e.onload=function(t){if(4===e.readyState)if(200===e.status){var a=JSON.parse(e.responseText);this.setState({settings:a,url:{auth:"https://"+a.ddns.hostname+"/auth/",token:"https://"+a.ddns.hostname+"/token/",fulfillment:"https://"+a.ddns.hostname+"/smarthome/"}})}else console.error(e.statusText)}.bind(this),e.open("GET",h+"api/settings/get/"),e.setRequestHeader("authorization","baerer "+v("token")),e.send()}}},{key:"update",value:function(e){var t=e.target.id.split("/"),a=this.state.settings;1===t.length?a[t[0]]=e.target.value:2===t.length&&(a[t[0]][t[1]]=e.target.value),this.setState({settings:a})}},{key:"updateCheckbox",value:function(e){var t=e.target.id.split("/"),a=this.state.settings;1===t.length?a[t[0]]=e.target.checked:2===t.length&&(a[t[0]][t[1]]=e.target.checked),this.setState({settings:a})}},{key:"save",value:function(){var e=new XMLHttpRequest;e.onload=function(t){4===e.readyState&&(200===e.status?(JSON.parse(e.responseText),this.setState({save_status:"Saved correctly."})):this.setState({save_status:"Error, the changes haven't been saved."}),setTimeout(function(){this.setState({save_status:""})}.bind(this),5e3))}.bind(this),e.open("POST",h+"api/settings/update/"),e.setRequestHeader("Content-Type","application/json;charset=UTF-8"),e.setRequestHeader("authorization","baerer "+v("token")),e.send(JSON.stringify(this.state.settings))}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{className:"page_block_container"},i.a.createElement("h2",null,"Actions on Google"),i.a.createElement("hr",null),i.a.createElement("div",{className:"page_block_content_container"},i.a.createElement("div",{className:"two_table_row"},i.a.createElement("div",{className:"two_table_cel"},"Client ID"),i.a.createElement("div",{className:"two_table_cel"},i.a.createElement("input",{type:"text",className:"two_input",id:"google/client_id",defaultValue:this.state.settings.google.client_id,onChange:this.update})),i.a.createElement("div",{className:"two_table_cel"},i.a.createElement("span",{className:"advise"}))),i.a.createElement("div",{className:"two_table_row"},i.a.createElement("div",{className:"two_table_cel"},"Client Secret"),i.a.createElement("div",{className:"two_table_cel"},i.a.createElement("input",{type:"text",className:"two_input",id:"google/client_secret",defaultValue:this.state.settings.google.client_secret,onChange:this.update})),i.a.createElement("div",{className:"two_table_cel"},i.a.createElement("span",{className:"advise"}))),i.a.createElement("div",{className:"two_table_row"},i.a.createElement("div",{className:"two_table_cel"},"Authorization URL"),i.a.createElement("div",{className:"two_table_cel"},i.a.createElement("input",{type:"text",className:"two_input",defaultValue:this.state.url.auth,disabled:!0})),i.a.createElement("div",{className:"two_table_cel"},i.a.createElement("span",{className:"advise"}))),i.a.createElement("div",{className:"two_table_row"},i.a.createElement("div",{className:"two_table_cel"},"Token URL"),i.a.createElement("div",{className:"two_table_cel"},i.a.createElement("input",{type:"text",className:"two_input",defaultValue:this.state.url.token,disabled:!0})),i.a.createElement("div",{className:"two_table_cel"},i.a.createElement("span",{className:"advise"}))),i.a.createElement("div",{className:"two_table_row"},i.a.createElement("div",{className:"two_table_cel"},"Fulfillment URL"),i.a.createElement("div",{className:"two_table_cel"},i.a.createElement("input",{type:"text",className:"two_input",defaultValue:this.state.url.fulfillment,disabled:!0})),i.a.createElement("div",{className:"two_table_cel"},i.a.createElement("span",{className:"advise"})))),i.a.createElement("div",{className:"page_block_buttons_container"},i.a.createElement("button",{type:"button",onClick:this.save},"Save"),i.a.createElement("span",null,this.state.save_status)),i.a.createElement("div",{className:"advise"},i.a.createElement("span",null,"Actions on Google settings. It is used to authenticate with Google. If you change it here, you must change it on the Actions Console > Develop > Account Linking."))),i.a.createElement("div",{className:"page_block_container"},i.a.createElement("h2",null,"MQTT"),i.a.createElement("hr",null),i.a.createElement("div",{className:"page_block_content_container"},i.a.createElement("div",{className:"two_table_row"},i.a.createElement("div",{className:"two_table_cel"},"User"),i.a.createElement("div",{className:"two_table_cel"},i.a.createElement("input",{type:"text",className:"two_input",id:"mqtt/user",defaultValue:this.state.settings.mqtt.user,onChange:this.update}))),i.a.createElement("div",{className:"two_table_row"},i.a.createElement("div",{className:"two_table_cel"},"Password"),i.a.createElement("div",{className:"two_table_cel"},i.a.createElement("input",{type:"text",className:"two_input",id:"mqtt/password",defaultValue:this.state.settings.mqtt.password,onChange:this.update})))),i.a.createElement("div",{className:"page_block_buttons_container"},i.a.createElement("button",{type:"button",onClick:this.save},"Save"),i.a.createElement("span",null,this.state.save_status)),i.a.createElement("div",{className:"advise"},i.a.createElement("span",null,"Important. You must configure the username and password into Mosquitto manually from a terminal. This is only for telling Homeware its credentials. Clear both if you don't use credentials."))),i.a.createElement("div",{className:"page_block_container"},i.a.createElement("h2",null,"DDNS provider"),i.a.createElement("hr",null),i.a.createElement("div",{className:"page_block_content_container"},i.a.createElement("div",{className:"two_table_row"},i.a.createElement("div",{className:"two_table_cel"},"Status:"),i.a.createElement("div",{className:"two_table_cel"},this.state.settings.ddns.status)),i.a.createElement("div",{className:"two_table_row"},i.a.createElement("div",{className:"two_table_cel"},"IP and time:"),i.a.createElement("div",{className:"two_table_cel"},this.state.settings.ddns.ip+" updated at "+this.state.settings.ddns.last))),i.a.createElement("hr",null),i.a.createElement("div",{className:"page_block_content_container"},i.a.createElement("div",{className:"two_table_row"},i.a.createElement("div",{className:"two_table_cel"},"Enable"),i.a.createElement("div",{className:"two_table_cel"},i.a.createElement("input",{type:"checkbox",id:"ddns/enabled",defaultChecked:this.state.settings.ddns.enabled,onChange:this.updateCheckbox}))),i.a.createElement("div",{className:"two_table_row"},i.a.createElement("div",{className:"two_table_cel"},"Provider"),i.a.createElement("div",{className:"two_table_cel"},i.a.createElement("select",{name:"type",className:"settings_select",id:"ddns/provider",value:this.state.settings.ddns.provider,onChange:this.update},i.a.createElement("option",{value:"noip"},"Noip")))),i.a.createElement("div",{className:"two_table_row"},i.a.createElement("div",{className:"two_table_cel"},"Username"),i.a.createElement("div",{className:"two_table_cel"},i.a.createElement("input",{type:"text",className:"two_input",id:"ddns/username",defaultValue:this.state.settings.ddns.username,onChange:this.update}))),i.a.createElement("div",{className:"two_table_row"},i.a.createElement("div",{className:"two_table_cel"},"Password"),i.a.createElement("div",{className:"two_table_cel"},i.a.createElement("input",{type:"text",className:"two_input",id:"ddns/password",defaultValue:this.state.settings.ddns.password,onChange:this.update}))),i.a.createElement("div",{className:"two_table_row"},i.a.createElement("div",{className:"two_table_cel"},"Hostname"),i.a.createElement("div",{className:"two_table_cel"},i.a.createElement("input",{type:"text",className:"two_input",id:"ddns/hostname",defaultValue:this.state.settings.ddns.hostname,onChange:this.update})))),i.a.createElement("div",{className:"page_block_buttons_container"},i.a.createElement("button",{type:"button",onClick:this.save},"Save"),i.a.createElement("span",null,this.state.save_status)),i.a.createElement("div",{className:"advise"},i.a.createElement("span",null,"Set up the access data to the DDNS provider account. Open an issue on Github if you want a DDNS provider that is not listed."))))}}]),a}(i.a.Component);var We=function(e){return i.a.createElement("div",{style:{marginTop:"5px",width:"100%",display:"grid",gridTemplateColumns:"70% 30%"}},i.a.createElement("div",{style:{textAlign:"left",paddingTop:"4px"}},i.a.createElement("span",{style:{fontSize:"18px"}},e.title)),i.a.createElement("div",{style:{textAlign:"right",paddingTop:"4px"}},i.a.createElement("span",{style:"Running"===e.status?{fontSize:"12px",fontWeight:"bold",color:"white",backgroundColor:"green",padding:"5px",paddingLeft:"10px",paddingRight:"10px",borderRadius:"5px"}:{fontSize:"12px",fontWeight:"bold",color:"white",backgroundColor:"red",padding:"5px",paddingLeft:"10px",paddingRight:"10px",borderRadius:"5px"}},e.status)))},Ke=a(52),Xe=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={components:[],git:{version:"",description:"",code:0},version:"",upgrading:!1},n.loadComponents=n.loadComponents.bind(Object(o.a)(n)),n.upgrade=n.upgrade.bind(Object(o.a)(n)),n.areYouAwake=n.areYouAwake.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.loadComponents(),setInterval(this.loadComponents,3e3);var e=new XMLHttpRequest;e.onload=function(t){if(4===e.readyState)if(200===e.status){var a=JSON.parse(e.responseText);this.setState({version:a.version})}else console.error(e.statusText)}.bind(this),e.open("GET",h+"api/global/version/"),e.setRequestHeader("authorization","baerer "+v("token")),e.send();var t=new XMLHttpRequest;t.onload=function(e){if(4===t.readyState)if(200===t.status){var a=JSON.parse(t.responseText),n=a.body;this.setState({git:{version:a.tag_name,description:n,code:200}})}else 403===t.status?this.setState({git:{version:"GitHub rate limit exceeded. You have reloaded so many times. It will reset after some time.",code:403}}):console.error(t.statusText)}.bind(this),t.open("GET","https://api.github.com/repos/kikeelectronico/Homeware-LAN/releases/latest"),t.send()}},{key:"loadComponents",value:function(){var e=new XMLHttpRequest;e.onload=function(t){if(4===e.readyState)if(200===e.status){for(var a=JSON.parse(e.responseText),n=[],i=Object.keys(a),s=0;s<i.length;s++)n.push(a[i[s]]);this.setState({components:n})}else console.error(e.statusText)}.bind(this),e.open("GET",h+"api/system/status/"),e.setRequestHeader("authorization","baerer "+v("token")),e.send()}},{key:"upgrade",value:function(){if(window.confirm("Are you sure?")){window.open(h+"files/buckup/homeware/"+v("token")),this.setState({upgrading:!0});var e=new XMLHttpRequest;e.onload=function(t){4===e.readyState&&(200===e.status?this.areYouAwake():console.error(e.statusText))}.bind(this),e.open("GET",h+"api/system/upgrade/"),e.setRequestHeader("authorization","baerer "+v("token")),e.send()}}},{key:"areYouAwake",value:function(){var e=new XMLHttpRequest;e.onload=function(t){4===e.readyState&&(200===e.status?window.location.href="/":(console.error(e.statusText),setTimeout(this.areYouAwake,2e3)))}.bind(this),e.open("GET",h+"test/"),e.setRequestHeader("authorization","baerer "+v("token")),e.send()}},{key:"restart",value:function(){alert("WIP")}},{key:"reboot",value:function(){alert("WIP")}},{key:"shutdown",value:function(){alert("WIP")}},{key:"render",value:function(){var e={marginTop:"20px",marginLeft:"10%",width:"80%",paddingLeft:"20px",paddingRight:"20px",paddingTop:"20px",paddingBottom:"20px",borderRadius:"20px",border:"1px solid #aaa"},t=this.state.components.map((function(e){return i.a.createElement(We,{title:e.title,status:e.status,enable:e.enable,key:e.title})})),a="";return this.state.version===this.state.git.version||200!==this.state.git.code||this.state.upgrading?403!==this.state.git.code||this.state.upgrading?this.state.upgrading&&(a=i.a.createElement("div",{style:e},i.a.createElement("b",{style:{color:"red"}},"Upgrading"),". It will take a couple of minutes. You will be redirected to the homepage once finished.")):a=i.a.createElement("div",null,i.a.createElement("b",null,"New version:")," ",this.state.git.version):a=i.a.createElement("div",null,i.a.createElement("b",null,"New version:")," ",this.state.git.version," ",i.a.createElement("div",{style:e}," ",i.a.createElement(Ke,{source:this.state.git.description})," ",i.a.createElement("button",{type:"button",style:{width:"200px"},onClick:this.upgrade},"Upgrade"))," "),i.a.createElement("div",null,i.a.createElement("div",{className:"page_block_container"},i.a.createElement("h2",null,"System status"),i.a.createElement("hr",null),i.a.createElement("div",{className:"page_block_content_container"},t),i.a.createElement("div",{className:"advise"},i.a.createElement("span",null,"These are the core elements of Homeware-LAN. All must be running."))),i.a.createElement("div",{className:"page_block_container"},i.a.createElement("h2",null,"Plugins"),i.a.createElement("hr",null),i.a.createElement("div",{className:"page_block_content_container"},"WIP"),i.a.createElement("div",{className:"advise"},i.a.createElement("span",null))),i.a.createElement("div",{className:"page_block_container"},i.a.createElement("h2",null,"Version"),i.a.createElement("hr",null),i.a.createElement("div",{className:"page_block_content_container"},i.a.createElement("b",null,"System version:")," ",this.state.version,a),i.a.createElement("div",{className:"advise"},i.a.createElement("span",null,"Verify if there is any code update and upgrade the software if an update is available."))),i.a.createElement("div",{className:"page_block_container"},i.a.createElement("h2",null,"Power"),i.a.createElement("hr",null),i.a.createElement("div",{className:"page_block_buttons_container"},i.a.createElement("button",{type:"button",onClick:this.restart},"Restart Homeware"),i.a.createElement("button",{type:"button",onClick:this.reboot},"Reboot System"),i.a.createElement("button",{type:"button",onClick:this.shutdown},"Shutdown System")),i.a.createElement("div",{className:"advise"},i.a.createElement("span",null,"Control the device and restart the Homeware-LAN installation."))))}}]),a}(i.a.Component),ze=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={},n}return Object(c.a)(a,[{key:"backup",value:function(){window.location=h+"files/buckup/homeware/"+v("token")}},{key:"render",value:function(){var e={width:"200px"},t=h+"files/restore/file/"+v("token")+"/";return i.a.createElement("div",null,i.a.createElement("div",{className:"page_block_container"},i.a.createElement("h2",null,"Backup"),i.a.createElement("hr",null),i.a.createElement("div",{className:"page_block_content_container"},i.a.createElement("button",{type:"button",style:e,onClick:this.backup},"Backup")),i.a.createElement("div",{className:"advise"},i.a.createElement("span",null,"Download a backup file."))),i.a.createElement("div",{className:"page_block_container"},i.a.createElement("h2",null,"Restore"),i.a.createElement("hr",null),i.a.createElement("div",{className:"page_block_content_container"},i.a.createElement("form",{method:"post",encType:"multipart/form-data",action:t},i.a.createElement("input",{type:"file",name:"file"}),i.a.createElement("button",{type:"submit",style:e,onClick:this.restart},"Restore"))),i.a.createElement("div",{className:"advise"},i.a.createElement("span",null,"Restore a backup file."))))}}]),a}(i.a.Component),Je=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={data:{apikey:""}},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=new XMLHttpRequest;e.onload=function(t){if(4===e.readyState)if(200===e.status){var a=JSON.parse(e.responseText);this.setState({data:a})}else console.error(e.statusText)}.bind(this),e.open("GET",h+"api/access/get/"),e.setRequestHeader("authorization","baerer "+v("token")),e.send()}},{key:"generateAPIKey",value:function(){var e=new XMLHttpRequest;e.onload=function(t){4===e.readyState&&(200===e.status?window.location.href="/access":console.error(e.statusText))},e.open("GET",h+"api/settings/apikey/"),e.setRequestHeader("authorization","baerer "+v("token")),e.send()}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{className:"page_block_container"},i.a.createElement("h2",null,"API key"),i.a.createElement("hr",null),i.a.createElement("div",{className:"page_block_content_container"},i.a.createElement("div",{className:"two_table_row"},i.a.createElement("div",{className:"two_table_cel"},"API Key"),i.a.createElement("div",{className:"two_table_cel"},i.a.createElement("input",{type:"text",className:"two_input",id:"apikey",value:this.state.data.apikey,disabled:!0})))),i.a.createElement("div",{className:"page_block_buttons_container"},i.a.createElement("button",{type:"button",onClick:this.generateAPIKey},"Generate")),i.a.createElement("div",{className:"advise"},i.a.createElement("span",null,"The API Key gives you access to the Homeware's API. Please do not generate an API Key if you are not sure of what you are doing."))))}}]),a}(i.a.Component),Ye=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={data:[],page:1},n.previousPage=n.previousPage.bind(Object(o.a)(n)),n.nextPage=n.nextPage.bind(Object(o.a)(n)),n.downloadLog=n.downloadLog.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=new XMLHttpRequest;e.onload=function(t){if(4===e.readyState)if(200===e.status){var a=JSON.parse(e.responseText);this.setState({data:a})}else console.error(e.statusText)}.bind(this),e.open("GET",h+"api/log/get/"),e.setRequestHeader("authorization","baerer "+v("token")),e.send()}},{key:"previousPage",value:function(){this.state.page>1&&this.setState({page:this.state.page-1})}},{key:"nextPage",value:function(){this.state.page<this.state.data.length/10-1&&this.setState({page:this.state.page+1})}},{key:"downloadLog",value:function(){window.location=h+"files/log/homeware/"+v("token")}},{key:"render",value:function(){var e={width:"80%",marginLeft:"8%",marginTop:"10px",borderBottom:"1px solid #eee",paddingLeft:"20px",paddingBottom:"10px",paddingRight:"20px",textAlign:"left"},t={color:"orange"},a={color:"red"},n=this.state.data.reverse().slice(0,10*this.state.page).map((function(n,s){return i.a.createElement("div",{style:e,key:s},"Log"===n.severity?i.a.createElement("b",null,n.severity):"","Warning"===n.severity?i.a.createElement("b",{style:t},n.severity):"","Alert"===n.severity?i.a.createElement("b",{style:a},n.severity):"","- ",n.time,i.a.createElement("br",null),n.message)}));return i.a.createElement("div",null,i.a.createElement("div",{className:"page_block_container"},i.a.createElement("h2",null,"Homeware-LAN log"),i.a.createElement("hr",null),i.a.createElement("div",null,n),i.a.createElement("div",{className:"page_block_buttons_container"},i.a.createElement("button",{type:"button",onClick:this.nextPage},"Load more"),i.a.createElement("button",{type:"button",onClick:this.downloadLog},"Download"))))}}]),a}(i.a.Component),Qe=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={enable_message:!1,message:""},n.login=n.login.bind(Object(o.a)(n)),n.grantAccess=n.grantAccess.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"login",value:function(){var e=new XMLHttpRequest;e.onload=function(t){var a=JSON.parse(e.responseText);"in"===a.status?(document.cookie="user="+a.user+"; path=/",document.cookie="token="+a.token+"; path=/",window.location="/"):"fail"===a.status&&(this.setState({enable_message:!0,message:"Incorrect User or Password"}),setTimeout(function(){this.setState({enable_message:!1})}.bind(this),5e3))}.bind(this),e.open("GET",h+"api/user/login/"),e.setRequestHeader("user",document.getElementById("user").value),e.setRequestHeader("pass",document.getElementById("password").value),e.send()}},{key:"grantAccess",value:function(){var e=new XMLHttpRequest;e.onload=function(t){"fail"!==e.responseText?window.location=e.responseText:(this.setState({enable_message:!0,message:"Incorrect User or Password"}),setTimeout(function(){this.setState({enable_message:!1})}.bind(this),5e3))}.bind(this),e.open("GET",h+"api/user/googleSync/"),e.setRequestHeader("user",document.getElementById("user").value),e.setRequestHeader("pass",document.getElementById("password").value),e.send()}},{key:"render",value:function(){var e={margin:"10px"},t="";return this.state.enable_message&&(t=i.a.createElement("div",{className:"alert_message"}," ",this.state.message," ")),i.a.createElement("div",{style:{margin:"20%"}},window.location.href.includes("google")?i.a.createElement("p",null,"Google request access to Homeware-Lan"):"",i.a.createElement("br",null),i.a.createElement("span",{style:e},"Username"),i.a.createElement("input",{type:"text",name:"user",id:"user"}),i.a.createElement("span",{style:e},"Password"),i.a.createElement("input",{type:"password",name:"password",id:"password"}),i.a.createElement("button",{type:"button",style:e,onClick:window.location.href.includes("google")?this.grantAccess:this.login},window.location.href.includes("google")?i.a.createElement("span",null,"Grant access"):i.a.createElement("span",null,"Login")),i.a.createElement("br",null),t)}}]),a}(i.a.Component),Ze=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={session:!1,version:""},n.logout=n.logout.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){if(!window.location.href.includes("assistant")){var e=new XMLHttpRequest;e.onload=function(t){if(4===e.readyState)if(200===e.status){var a=JSON.parse(e.responseText);"in"===a.status||window.location.href.includes("login")?"in"===a.status&&this.setState({session:!0}):window.location.href="/login/"}else console.error(e.statusText)}.bind(this),e.open("GET",h+"api/user/validateToken/"),e.setRequestHeader("token",v("token")),e.setRequestHeader("user",v("user")),e.send();var t=new XMLHttpRequest;t.onload=function(e){if(4===t.readyState)if(200===t.status){var a=JSON.parse(t.responseText);this.setState({version:a.version})}else console.error(t.statusText)}.bind(this),t.open("GET",h+"api/global/version/"),t.setRequestHeader("authorization","baerer "+v("token")),t.send()}}},{key:"logout",value:function(){document.cookie="user=; path=/",document.cookie="token=; path=/",this.setState({session:!1}),window.location.href="/"}},{key:"render",value:function(){return this.state.session||window.location.href.includes("assistant")||window.location.href.includes("login")?window.location.href.includes("login")?i.a.createElement("div",{className:"Clear_app"},i.a.createElement(Qe,null)):window.location.href.includes("assistant")?i.a.createElement(u.a,null,i.a.createElement("div",{className:"Clear_app"},i.a.createElement(p.a,{exact:!0,path:"/assistant/",component:E}),i.a.createElement(p.a,{exact:!0,path:"/assistant/welcome/",component:E}),i.a.createElement(p.a,{exact:!0,path:"/assistant/user",component:g}),i.a.createElement(p.a,{exact:!0,path:"/assistant/domain",component:_}),i.a.createElement(p.a,{exact:!0,path:"/assistant/confignginx",component:y}),i.a.createElement(p.a,{exact:!0,path:"/assistant/change2domain",component:f}),i.a.createElement(p.a,{exact:!0,path:"/assistant/changed2domain",component:N}),i.a.createElement(p.a,{exact:!0,path:"/assistant/ssl",component:O}),i.a.createElement(p.a,{exact:!0,path:"/assistant/google",component:k}),i.a.createElement(p.a,{exact:!0,path:"/assistant/initialize",component:w}))):i.a.createElement(u.a,null,i.a.createElement("div",{className:"App"},i.a.createElement("div",{className:"upper-menu"},"Homeware-LAN"),i.a.createElement("div",{className:"main-app"},i.a.createElement("div",{className:"menu"},i.a.createElement("div",null,i.a.createElement(C,{image:"/menu/devices_icon.png",title:"Devices",href:"/devices"}),i.a.createElement(C,{image:"/menu/tasks_icon.png",title:"Tasks",href:"/tasks"}),i.a.createElement(C,{image:"/menu/settings_icon.png",title:"Settings",href:"/settings"}),i.a.createElement(C,{image:"/menu/status_icon.png",title:"System",href:"/system"}),i.a.createElement(C,{image:"/menu/backup_icon.png",title:"Backup",href:"/backup"}),i.a.createElement(C,{image:"/menu/access_icon.png",title:"Access",href:"/access"}),i.a.createElement(C,{image:"/menu/logs_icon.png",title:"Logs",href:"/logs"}),i.a.createElement("hr",null),i.a.createElement(C,{image:"/menu/repo_icon.png",title:"Repo",href:"/"}),i.a.createElement(C,{image:"/menu/help_icon.png",title:"How to",href:"/"}),i.a.createElement("hr",null),i.a.createElement(C,{image:"/menu/logout_icon.png",title:"Logout",exec:this.logout})),i.a.createElement("div",{className:"menu-data"},i.a.createElement("p",null,"Version: ",this.state.version))),i.a.createElement("div",{className:"page"},i.a.createElement(p.a,{exact:!0,path:"/",component:oe}),i.a.createElement(p.a,{exact:!0,path:"/devices",component:oe}),i.a.createElement(p.a,{path:"/devices/editor",component:Se}),i.a.createElement(p.a,{path:"/devices/info",component:Le}),i.a.createElement(p.a,{exact:!0,path:"/tasks",component:Ae}),i.a.createElement(p.a,{path:"/tasks/manager",component:Be}),i.a.createElement(p.a,{path:"/settings",component:Ve}),i.a.createElement(p.a,{path:"/system",component:Xe}),i.a.createElement(p.a,{path:"/backup",component:ze}),i.a.createElement(p.a,{path:"/access",component:Je}),i.a.createElement(p.a,{path:"/logs",component:Ye}))))):""}}]),a}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(Ze,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},17:function(e,t,a){},32:function(e,t,a){},43:function(e,t,a){e.exports=a(137)},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){}},[[43,1,2]]]);
//# sourceMappingURL=main.aabe0bf2.chunk.js.map